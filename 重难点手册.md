# ä¸ƒ.é«˜éš¾åº¦è®¡ç®—

### 1.é«˜ç²¾åº¦è®¡ç®—

![image-20221226193215953](é‡éš¾ç‚¹æ‰‹å†Œ.assets/image-20221226193215953.png)

```c
#include <stdio.h>
#include <string.h>
int main()
{
	char a[100+3];
	char b[100+3];
	char c[100+3];
	scanf("%s %s",a,b);
	int len1 = strlen(a);
	int len2 = strlen(b);
	int len3 = len1 > len2 ? len1:len2;
	int i;
	for(i = 0 ;i < len3;i++)
	{
		c[i] = '0';
	}
	len1--; //len1è¡¨ç¤ºé•¿åº¦ï¼Œå‚è€ƒæ•°ç»„ï¼Œä¸‹æ ‡ä»0å¼€å§‹
	len2--;
	for(i = len3-1;i >= 0;i--,len1--,len2--)
	{
		if(len1 >= 0)
		{
			c[i] += a[len1] - '0'; // a[len1] - '0'è¡¨ç¤ºç›¸å·®çš„ASCIIç çš„å€¼
		}
		if(len2 >= 0)
		{
			c[i] += b[len2]-'0';
		}
		if(c[i] > '9') //ASCIIç ä¸­æ²¡æœ‰ 10
		{
			if(i>0)
			{
				c[i] -= 10;
				c[i-1]++;
			}
			else
		    {
		    	printf("1"); //ç‰¹æ®Šæƒ…å†µï¼Œç¬¬ä¸€ä½è¿›ä¸€
		    	c[i] -= 10;
			}
			
		}
	}
	for(i = 0; i< len3;i++)
	{
		printf("%c",c[i]);
	}
}
```



### 2.é«˜ç²¾åº¦è®¡ç®—çš„ä¹˜æ³•

have fun with number

![image-20221228134128024](é‡éš¾ç‚¹æ‰‹å†Œ.assets/image-20221228134128024.png)

```c
#include <stdio.h>
#include <string.h>

int main()
{
    char s[20];
    int a[10] = {0};
    int b[10] = {0};   //å¯¹hashæ•°ç»„è¿›è¡Œåˆå§‹åŒ–
    scanf("%s",s);
    int len = strlen(s);
    int i,m = 0;
    int flag = 1;
    for(i = len - 1;i >= 0;i--)
    {
        int k = s[i] - '0';
        a[k]++;
        s[i] = (2 * k + m) % 10 + '0' ;    //æ­¤å¤„ä¸ºä¹˜æ³•çš„å…³é”®
        if((2 * k + m ) > 9)
        {
            m = 1;
        }
        else
        {
            m = 0;
        }
    }
    if(m == 1)
    {
        printf("No\n");
        printf("1");
        for(i = 0;i < len ;i++)
        {
            printf("%c",s[i]);
        }
    }
    else
    {
        for(i = 0; i < len;i++)
        {
            b[s[i] - '0']++;
        }
        for(i = 0; i< 10;i++)
        {
            if(a[i] != b[i])      //hashæ•°ç»„è¿›è¡Œæ¯”è¾ƒï¼Œæ¯”è¾ƒä¸¤ä¸ªæ•°å­—æœ‰æ— å˜åŒ–
            {
                flag = 0;
                break;
            }
        }
        if(flag == 1)
        {
            printf("Yes\n");
        }
        else
        {
            printf("No\n");
        }
        for(i = 0;i < len ;i++)
        {
            printf("%c",s[i]);
        }
    }
}
```



```c
for(i = len - 1;i >= 0;i--)
    {
        int k = s[i] - '0';
        a[k]++;
        s[i] = (n * k + m) % 10 + '0' ;   // ä¹˜nå€
        if((n * k + m ) > 9)
        {
            m = (n * k + m) / 10;
        }
        else
        {
            m = 0;
        }
    }
```





# å…«.æŒ‡é’ˆ

### 8.1 å–åœ°å€è¿ç®—

- &ä½œä¸ºè¿ç®—ç¬¦scanf("%d",&i)

- è·å¾—å˜é‡çš„åœ°å€ï¼Œä»–çš„**æ“ä½œæ•°å¿…é¡»æ˜¯æ˜ç¡®çš„å˜é‡**

  int iï¼›printf("%x",&i);å°†içš„åœ°å€ä»¥åå…­è¿›åˆ¶æ•´æ•°çš„å½¢å¼è¾“å‡º

  å…¶ä¸­ int p =int (&i);printf("%x",p);ä¹Ÿå¯ä»¥

  - > **ä½†æ˜¯int p=(int)&(i++)   â€”â€”error**

  - > **int p=(int)&(++i) â€”â€” error**

  - > **int p=(int)&ï¼ˆi+kï¼‰ â€”â€” error**

- > **åœ°å€çš„å¤§å°æ˜¯å¦ä¸intç›¸åŒå–å†³äºç¼–è¯‘å™¨**

  int iï¼›printf("%p",&i);   ==%pæ˜¯å–åœ°å€æ ‡å‡†è¿ç®—ç¬¦==

  - sizeof(int)=4;
  - sizeof(&i) = 4(å­—èŠ‚ï¼Œä¸€å­—èŠ‚ç­‰äº8bit)   â€”â€”32ä½ç¼–è¯‘å™¨
  - sizeof(&iï¼‰= 8â€”â€”64ä½ç¼–è¯‘å™¨

### 8.2 æ•°ç»„çš„å–åœ°å€è¿ç®—

```c
int a[10];
printf("%p\n",&a);         //000000000065FDF0
printf("%p\n",a);          //000000000065FDF0
printf("%p\n",&a[0]);      //000000000065FDF0
printf("%p\n",&a[1]);      //000000000065FDF4
```

- > **å‘ç°&aä¸aï¼Œa[0]çš„åœ°å€å‡ç›¸åŒï¼Œï¼ˆä¼ è¾“æ•°ç»„æ—¶ï¼Œåªéœ€è¦çŸ¥é“é¦–ä¸ªå…ƒç´ çš„åœ°å€å’Œå…ƒç´ ä¸ªæ•°ä¸ªæ•°å³å¯ï¼‰**

- ç›¸é‚»æ•°ç»„å…ƒç´ ï¼Œåœ°å€ç›¸å·®4ï¼ˆint çš„å­—èŠ‚æ•°ä¸º4ï¼‰

- > **æŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å­˜åŒºï¼Œæ˜¯ä»æŒ‡é’ˆæ‰€ä»£è¡¨çš„é‚£ä¸ªå†…å­˜åœ°å€å¼€å§‹ï¼Œé•¿åº¦ä¸ºsizeofï¼ˆï¼‰ã€‚**
  >
  > **ä»¥åæˆ‘ä»¬è¯´æŒ‡é’ˆçš„å€¼æ˜¯å¤šå°‘ï¼Œå°±ç›¸å½“äºè¯´æŒ‡é’ˆæŒ‡å‘äº†ä»¥XXä¸ºé¦–åœ°å€çš„ä¸€ç‰‡å†…å­˜åŒºã€‚**
  >
  > **æˆ‘ä»¬è¯´æŒ‡é’ˆæŒ‡å‘äº†æŸå—åŒºåŸŸï¼Œå°±ç›¸å½“äºè¯´æŒ‡é’ˆçš„å€¼æ˜¯è¿™å—å†…å­˜åŒºåŸŸçš„é¦–åœ°å€**

### 8.3æŒ‡é’ˆå˜é‡è®°å½•åœ°å€ã€‚

> **æ€è€ƒï¼šå¦‚æœèƒ½å¤Ÿå°†å–å¾—çš„å˜é‡çš„åœ°å€ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ï¼Œèƒ½å¦é€šè¿‡è¿™ä¸ªåœ°å€åœ¨é‚£ä¸ªå‡½æ•°å†…è®¿é—®è¿™ä¸ªå˜é‡å‘¢ï¼Ÿ**

#### 8.3.1æŒ‡é’ˆå°±æ˜¯ä¿å­˜åœ°å€çš„å˜é‡

***\*ä»¥åï¼Œæ¯é‡åˆ°ä¸€ä¸ªæŒ‡é’ˆï¼Œéƒ½åº”è¯¥é—®é—®ï¼šè¿™ä¸ªæŒ‡é’ˆçš„ç±»å‹æ˜¯ä»€ä¹ˆï¼ŸæŒ‡é’ˆæŒ‡çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿè¯¥æŒ‡é’ˆæŒ‡å‘äº†å“ªé‡Œï¼Ÿï¼ˆé‡ç‚¹æ³¨æ„ï¼‰\****

1. åŒºåˆ†ä¸€ä¸‹æƒ…å†µ

   ```c
   int i;          //å®šä¹‰æ•´æ•°å‹çš„å˜é‡
   int *p=&i;      //å®šä¹‰æŒ‡é’ˆpæŒ‡å‘içš„åœ°å€ï¼ˆåˆå§‹åŒ–ï¼‰
   int* p,q;       //å®šä¹‰æŒ‡é’ˆpå’Œæ•´æ•°å‹å˜é‡q
   int *p,q;       //å®šä¹‰æŒ‡é’ˆpå’Œæ•´æ•°å‹å˜é‡q
   ```

   ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼šint*ä¸æ˜¯ä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼Œint (ç©ºæ ¼) *pè¡¨ç¤ºçš„æ‰æ˜¯æŒ‡é’ˆ

2.ä½œä¸ºå‡½æ•°å‚æ•°çš„æŒ‡é’ˆ

void f(int *p)  åœ¨è¢«è°ƒç”¨æ—¶å¾—åˆ°çš„æ˜¯æŸä¸ªå˜é‡çš„åœ°å€

```c
void f(int *p)
{
    printf("p=%p\n",p);
    printf("*p=%d",*p);
    *p=16;
}
int main()
{
    int i=6;
    printf("&i=%p\n",&i);
    f(&i);
    printf("i=%d",i);
}
```

ç»“æœï¼š&i=000000000065FE1C
                     p=000000000065FE1C
                    ==*p=6==

â€‹            i=16;

3.ç©¿æ’å°çŸ¥è¯†ï¼šå·¦å€¼

- å·¦å€¼ï¼šå‡ºç°åœ¨èµ‹å€¼å·çš„å·¦è¾¹ï¼Œä½†ä¸æ˜¯å˜é‡è€Œæ˜¯å€¼ï¼Œæ˜¯è¡¨è¾¾å¼çš„ç»“æœ
- - a[0] = 2;    []å¯ä»¥çœ‹ä½œä¸€ä¸ªè¿ç®—ç¬¦ï¼Œç›¸å½“äºa#0
  - *p = 3

äº’ç›¸åä½œç”¨

- *&abc  - ->  *****(&abc)  - - >*****(abcçš„åœ°å€)  - - >å¾—åˆ°é‚£ä¸ªåœ°å€ä¸Šçš„å˜é‡   - - > abc
- &*abc  - - > &(*****abc) - - > &(y) - - > å¾—åˆ°yçš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯abc â€”â€”>  abcï¼ˆabcé¦–å…ˆæ˜¯ä¸€ä¸ªåœ°å€ï¼‰



#### 8.3.2 æŒ‡é’ˆçš„åº”ç”¨

ï¼ˆä¸€ï¼‰.swapå‡½æ•°

```c
void swap(int *a,int *b)
{
    int temp=*a;
    *a=*b;
    *b=temp;
}
```

ï¼ˆäºŒï¼‰.å‡½æ•°è¿”å›å¤šä¸ªå€¼ï¼ˆæŸäº›å€¼åªèƒ½é€šè¿‡æŒ‡é’ˆè¿”å›ï¼‰

==ä¼ å…¥çš„å‚æ•°å®é™…ä¸Šå°±æ˜¯éœ€è¦å¸¦å›çš„ç»“æœçš„å˜é‡==

1.å¯»æ‰¾æ•°ç»„ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼ˆä¸€æ¬¡æ»¡è¶³ï¼‰

```c
void findmaxmin(int a[],int len,int *max,int *min)
{
    int i;
    *max = *min = a[0];
    for(i=0;i<len;i++)
    {
        if(a[i]>*max)
        {
            *max=a[i];
        }
        if(a[i]<*min)
        {
            *min=a[i];
        }
    }
}
```

(ä¸‰).å‡½æ•°è¿”å›è¿ç®—çš„çŠ¶æ€ï¼Œç»“æœé€šè¿‡æŒ‡é’ˆè¿”å›

```c
int divide(double a,double b, double *result)
{
    int ret=1;
    if(b==0)
    {
        ret=0;
    }
    else
    {
        *result=a/b;
    }
    return ret;
}
int main()
{
    //è¯­å¥
    if(divide(a,b,&result))
    {
        printf("%f/%f=%f\n",a,b,result);
    }
}
```

#### 8.3.3 æŒ‡é’ˆçš„å¸¸è§ä½¿ç”¨é”™è¯¯

> **å®šä¹‰äº†æŒ‡é’ˆå˜é‡ï¼Œä½†æ˜¯æ²¡æœ‰æŒ‡å‘ä»»ä½•å˜é‡ï¼Œä¾¿å¼€å§‹ä½¿ç”¨**

```c
int *p;
*p = 12; //è¯¥æ“ä½œæ˜¯é”™è¯¯çš„ï¼Œ*pæ²¡æœ‰æŒ‡å‘æŸä¸€å˜é‡çš„åœ°å€ï¼Œæœªè¿›è¡Œåˆå§‹åŒ–
```

æ¦‚å¿µè¾¨æ

- int p ; è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„æ•´å‹å˜é‡

- int *p;é¦–å…ˆpæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œç„¶åpä¸intç»“åˆï¼Œè¯´æ˜æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹çš„ç±»å‹æ˜¯intï¼Œæ‰€ä»¥pæ˜¯ä¸€ä¸ªè¿”å›æ•´å‹çš„æŒ‡é’ˆ

- int p[3];pæ˜¯ä¸€ä¸ªç”±æ•´å‹ç»„æˆçš„æ•°ç»„ï¼›

- > **int*p[3];**
  >
  > **é¦–å…ˆä» på¼€å§‹ï¼Œå…ˆå’Œã€ã€‘ç»“åˆï¼Œå› ä¸ºã€ã€‘ä¼˜å…ˆçº§æ¯” *é«˜ï¼Œæ‰€ä»¥pæ˜¯ä¸€ä¸ªæ•°ç»„ã€‚**
  >
  > **ç„¶ååœ¨å’Œ*ç»“åˆï¼Œè¯´æ˜æ•°ç»„ä¸­çš„å…ƒç´ éƒ½æ˜¯æŒ‡é’ˆç±»å‹ï¼Œå†ä¸intç»“åˆï¼Œè¯´æ˜æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹éƒ½æ˜¯æ•´å‹ã€‚**
  >
  > **æ‰€ä»¥pæ˜¯ä¸€ä¸ªç”±è¿”å›æ•´å‹æ•°æ®çš„æŒ‡é’ˆç»„æˆçš„æ•°ç»„**

- >**int(*p)[3];**
  >
  >**é¦–å…ˆä»på¼€å§‹ï¼Œå…ˆå’Œ*ç»“åˆï¼Œè¯´æ˜pæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå†ä¸ã€ã€‘ç»“åˆï¼Œè¯´æ˜æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åå†ä¸intç»“åˆï¼Œè¯´æ˜æ•°ç»„ä¸­çš„å…ƒç´ éƒ½æ˜¯æ•´å‹ã€‚**
  >
  >**æ‰€ä»¥pæ˜¯ä¸€ä¸ªç”±æ•´å‹æ•°æ®ç»„æˆçš„æ•°ç»„çš„æŒ‡é’ˆã€‚**

- > **int (*p)(int)**
  >
  > **é¦–å…ˆä»på¼€å§‹ï¼Œå…ˆä¸*ç»“åˆï¼Œè¯´æ˜pæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œç„¶åä¸ï¼ˆï¼‰ç»“åˆï¼Œè¯´æ˜æŒ‡é’ˆæŒ‡å‘çš„æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚**
  >
  > **ï¼ˆï¼‰é‡Œçš„intè¯´æ˜ï¼Œå‡½æ•°æœ‰ä¸€ä¸ªintå‹çš„å‚æ•°ï¼Œæœ€å¤–å±‚çš„intè¯´æ˜å‡½æ•°çš„è¿”å›å€¼æ˜¯intã€‚**
  >
  > **æ‰€ä»¥pæ˜¯ä¸€ä¸ªæŒ‡å‘æœ‰ä¸€ä¸ªæ•´æ•°å‚æ•°ä¸”è¿”å›ç±»å‹ä¸ºæ•´å‹çš„å‡½æ•°**







#### 8.3.4 ==æŒ‡é’ˆä¸æ•°ç»„==

- åœ¨å‡½æ•°è°ƒç”¨ä¸­ï¼Œsizeof(a) = 4,ç›¸å½“äºæ­¤å¤„çš„==**aæ˜¯ä¸€ä¸ªæŒ‡é’ˆ**==ï¼Œ==åœ¨å‡½æ•°ä¸­ï¼Œå¯¹æ•°ç»„å…ƒç´ è¿›è¡Œå˜æ¢ï¼Œç›¸åº”çš„åœ¨mainå‡½æ•°ä¸­æ•°ç»„å…ƒç´ å‘ç”Ÿç›¸åŒçš„å˜æ¢==

- åœ¨mainå‡½æ•°ä¸­ï¼Œsizeofï¼ˆaï¼‰= len*sizeof(a[0]),ç›¸å½“äºæ­¤å¤„çš„aæ˜¯ä¸€ä¸ªçœŸå®çš„æ•°ç»„

- ```c
  ä»¥ä¸‹å››ç§å‡½æ•°åŸå‹æ˜¯ç­‰ä»·çš„
  int func(int a[],int n)
  int func(int *a,int n)
  int func(int [],int )
  int func(int *,int )
  ```

- æ•°ç»„å˜é‡æœ¬èº«è¡¨ç¤ºåœ°å€

  - int a[10];int *p=a;     æ— éœ€ç”¨&å–åœ°å€ã€‚==a ==&a[0]==
  - ä½†æ˜¯æ•°ç»„çš„å…ƒç´ è¡¨è¾¾çš„æ˜¯å˜é‡ï¼Œéœ€è¦ç”¨&å–åœ°å€

- []è¿ç®—ç¬¦å¯ä»¥å¯¹æ•°ç»„åšï¼Œä¹Ÿå¯ä»¥å¯¹æŒ‡é’ˆåš

  - p[0]=a[0]       p[0]å¯ä»¥çœ‹ä½œæŒ‡é’ˆpæŒ‡å‘çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œp[0]è¡¨ç¤ºæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ 

        ```c
        min=2;
        int *p = &min;
        printf("*p=%d\n",*p);       //2
        printf("p[0]=%d\n",p[0]);   //2
        ```

  > 

  ```c
  int a[]={5,15,34,54,14,2,52,72}
  int *p = &a[5];
  printf("%d",(p+2)[0]);  //72
  åˆ™p[-2]çš„å€¼ä¸º54
    p[2]çš„å€¼ä¸º72
  ```

- *è¿ç®—ç¬¦å¯ä»¥å¯¹æŒ‡é’ˆåšï¼Œä¹Ÿå¯ä»¥å¯¹æ•°ç»„åš   

  - *a=25,è¡¨ç¤ºæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ a[0]=25

- æ•°ç»„å˜é‡æ˜¯constçš„æŒ‡é’ˆï¼Œæ‰€ä»¥ä¸èƒ½è¢«èµ‹å€¼

  - ä¸èƒ½b[]=a[]

  - int a[]   ç›¸å½“äº int *const a

ä¾‹é¢˜1ï¼š

**int array[10];è¯¥è¯­å¥å®šä¹‰äº†ä¸€ä¸ªæ•°ç»„arrayã€‚**

> **å…¶ä¸­arrayçš„ç±»å‹æ˜¯æ•´å‹æŒ‡é’ˆ(å³ï¼šint*)    é”™è¯¯âŒ**
>
> **array æ˜¯æŒ‡å‘ int array[0]çš„åœ°å€çš„æŒ‡é’ˆ**

#### 8.3.5 ==æŒ‡é’ˆä¸constï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ==

> **ç›®å‰æœ‰æŒ‡é’ˆæ˜¯constï¼Œä¹Ÿå¯ä»¥æ˜¯æŒ‡é’ˆæŒ‡å‘çš„å˜é‡æ˜¯const**

1. æŒ‡é’ˆæ˜¯constï¼Œè¡¨ç¤ºä¸€æ—¦å¾—åˆ°æŸä¸ªå˜é‡çš„åœ°å€ï¼Œä¸èƒ½å†æŒ‡å‘å…¶ä»–å˜é‡

   - int *const q=&i;    //qæ˜¯const
   - *q=26        ok      (æ­¤æ—¶ä½¿i=26ï¼Œå˜é‡è¿˜æ˜¯i)
   - q++           error

2. æ‰€æŒ‡çš„æ˜¯constã€‚è¡¨ç¤ºä¸èƒ½é€šè¿‡æŒ‡é’ˆå»ä¿®æ”¹é‚£ä¸ªå˜é‡

   - const int *p=&i;
   - *p=26     //error  (*****p)æ˜¯const
   - i=26       //ok
   - p=&j       //ok

   ```c
   int i;
   const int *p1=&i;
   int const *p2=&i;       //é€šè¿‡æŒ‡é’ˆä¸èƒ½ä¿®æ”¹å˜é‡
   int *const p3=&i;       //æŒ‡é’ˆä¸å¯ä¿®æ”¹
   ```

   > åˆ¤æ–­å“ªä¸ªè¢«const çš„æ ‡å¿—æ˜¯conståœ¨*çš„å‰é¢è¿˜æ˜¯åé¢

### 8.4 æŒ‡é’ˆè¿ç®—

0åœ°å€ï¼Œå¯ä»¥ç”¨0åœ°å€è¡¨ç¤ºç‰¹æ®Šçš„äº‹æƒ…

- è¿”å›çš„æŒ‡é’ˆæ— æ•ˆ
- æŒ‡é’ˆæ²¡æœ‰è¢«çœŸæ­£åˆå§‹åŒ–ï¼ˆå…ˆåˆå§‹åŒ–ä¸º0ï¼‰

NULLæ˜¯ä¸€ä¸ªé¢„å®šå®šä¹‰çš„ç¬¦å·ï¼Œè¡¨ç¤º0åœ°å€

#### 8.4.1 ç»™æŒ‡é’ˆåŠ å‡ä¸€ä¸ªæ•´æ•°

1. æŒ‡é’ˆåŠ ä¸€ï¼Œå…¶**è¡¨ç¤ºçš„åœ°å€åŠ sizeofï¼ˆ ï¼‰**

2. > **ç»™æŒ‡é’ˆåŠ ä¸€ï¼Œè¡¨ç¤ºè¦è®©æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå˜é‡**

   int a[10];

   int *p = a;

   *(p+1) = a[1];

```c
char a[]={0,1,2,3,4,5,6};
char *p = a;
int b[] = {0,1,2,3,4,5,6};
int *q = b;
printf("%p\n",p);            //00````065FE09
printf("%p\n",p+1);          //00````065FE0A
printf("%p\n",q);            //000000065FDE0
printf("%p\n",q+1);          //000000065FDE4
```

#### 8.4.2 é€’å¢é€’å‡

*p++   (åŒä¸ºäºŒçº§è¿ç®—ç¬¦ï¼Œä»å³å¾€å·¦è¿›è¡Œè®¡ç®—)

- > ***å–å‡ºpæ‰€æŒ‡çš„æ•°æ®ï¼Œå®Œäº‹åæŠŠpç§»åˆ°ä¸‹ä¸€ä¸ªä½ç½®***

- ********çš„ä¼˜å…ˆçº§ä½äº++ï¼Œäºæ˜¯å…ˆæ‰§è¡Œp++ï¼Œå†***

- ä¸€èˆ¬ç”¨äºæ•°ç»„

***++pç›¸å½“äº *ï¼ˆp+1ï¼‰**

- å–å‡ºpæ‰€æŒ‡çš„ä¸‹ä¸€ä¸ªå•å…ƒçš„æ•°æ®

- å…ˆæ‰§è¡Œï¼ˆ++pï¼‰ï¼Œå†*

```c
int b[] = {1,2,3,4,5,6,0,-1};
int *p = b;
for(p=b;*p!=-1;p++)
{
    printf("%d",*p);
}
while(*p)
{
    printf("%d ",*p++);  //1 2 3 4 5 6
    printf("%d ",*++p);  //2 3 4 5 6 0
}

```



#### 8.4.3 æŒ‡é’ˆç›¸å‡ï¼ˆä¸èƒ½ç›¸åŠ ï¼‰

1.ä¸¤æŒ‡é’ˆç›¸å‡ï¼Œå¾—åˆ°çš„æ•°æ˜¯æŒ‡é’ˆåœ°å€å·®/sizeofï¼ˆï¼‰

```c
char a[]={0,1,2,3,4,5,6};
char *p = a;
char *p1 = a[5];
int b[] = {0,1,2,3,4,5,6};
int *q = b;
int *q1 = b[6];
printf("%d\n",p1-p);       //5
printf("%d\n",q1-q);       //6
```

>**æŒ‡é’ˆä¹‹é—´åªèƒ½ç›¸å‡ï¼Œä¸èƒ½ç›¸åŠ ï¼Œä¸”åªæœ‰åŒä¸€ç±»å‹çš„æŒ‡é’ˆå˜é‡æ‰èƒ½ç›¸å‡ã€‚æŒ‡é’ˆç›¸å‡çš„æ„ä¹‰åœ¨äºä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ä½ç½®ä¹‹é—´ç›¸éš”äº†å¤šå°‘ä¸ªå…ƒç´ **

#### 8.4.4å¼ºåˆ¶ç±»å‹è½¬æ¢

```c
char a[20];
int *p=(int*)a;
p++;
```

pæ‰€æŒ‡çš„åœ°å€ç”±åŸæ¥çš„å˜é‡açš„åœ°å€å‘é«˜åœ°å€æ–¹å‘å¢åŠ äº†4å­—èŠ‚ã€‚

åŸæ¥pæŒ‡å‘æ•°ç»„açš„ç¬¬0å·å…ƒç´ å¼€å§‹çš„å››ä¸ªå­—èŠ‚ï¼Œæ­¤æ—¶æŒ‡å‘æ•°ç»„aä¸­ä»ç¬¬4å·å…ƒç´ å¼€å§‹çš„å››ä¸ªå­—èŠ‚ï¼Œ

#### 8.4.5æ•°ç»„çš„åŠ¨æ€å†…å­˜åˆ†å¸ƒ

- int *a = (int *)malloc(n * sizeof(int ));

- **mallocå‡½æ•° void * malloc(size_t,size)**

- è¿”å›çš„ç±»å‹æ˜¯void*ï¼ˆè¡¨ç¤ºä¸çŸ¥é“æŒ‡å‘ä»€ä¹ˆçš„æŒ‡é’ˆï¼‰ï¼Œ **éœ€è¦è¿›è¡Œç±»å‹è½¬åŒ– ä»void *åˆ° æ•°æ®ç±»å‹ ***
- å‡è¦å¤´æ–‡ä»¶ #include <stdlib.h>
- ä½¿ç”¨malloc å‡½æ•°ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ç¡®å®šæ•°ç»„çš„å¤§å°

```c
#include <stdio.h>
#include <stdlib.h>

int main()
{
    int number;
    scanf("%d",&number);
    int *a = (int *)malloc(number*sizeof(int));//æ­¤æ—¶å¯ä»¥å°†açœ‹ä½œä¸€ä¸ªæ•°ç»„
    for(i=0;i<number;i++)
    {
        scanf("%d",&a[i]);
    }
    free(a);       //å½’è¿˜å†…å­˜
}
```

freeï¼ˆï¼‰

- ç”³è¯·æ¥çš„ç©ºé—´éƒ½å¾—è¿˜ç»™ç³»ç»Ÿ

- **ä¸”åªèƒ½è¿˜ç”³è¯·æ¥çš„ç©ºé—´çš„é¦–åœ°å€******ï¼ˆæ•…åœ¨å¯¹aåœ°å€åšå‡ºæ”¹å˜å‰ï¼Œéœ€è¦æ–°è®¾ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ç©ºé—´çš„é¦–åœ°å€ï¼‰****

- **freeï¼ˆNULLï¼‰æ²¡æœ‰é—®é¢˜**

- å¸¸è§é—®é¢˜

  - ç”³è¯·äº†ä½†æ˜¯æ²¡æœ‰freeå†…å­˜â€”â€”>é•¿æ—¶é—´è¿è¡Œå†…å­˜ä¼šé€æ¸ä¸‹é™

  - free è¿‡ å†freeâ€”â€”>ç¨‹åºä¼šæŠ¥é”™

  - åœ°å€å˜è¿‡äº†ï¼Œç›´æ¥freeâ€”â€”>æŠ¥é”™

  - ```c
    int *p=(int*)malloc(1024*1024);
    p++;
    free(p);        //è¿™æ˜¯é”™è¯¯çš„
    ```

  - 

ä¾‹é¢˜ï¼š

```c
char *p;
while(1)
{
    p = malloc(1);
    *p = 0;           
}
```

ç¨‹åºä¼šä¸€ç›´åˆ†é…å†…å­˜ï¼Œç›´è‡³å¼•èµ·å†…å­˜è€—å°½ã€‚==è€Œmallocå†åˆ†é…å†…å­˜å¤±è´¥æ—¶å¹¶ä¸ä¼šç»ˆæ­¢ç¨‹åºï¼Œè€Œæ˜¯è¿”å›NULLæŒ‡é’ˆ==ã€‚è€Œç¬¬äº”è¡Œä»£ç è¯•å›¾==åœ¨NULLæŒ‡é’ˆçš„ä½ç½®å†™å…¥æ•°æ®ï¼Œè¿™ä¼šå¼•èµ·ç¨‹åºç»ˆæ­¢ï¼ˆæ®µé”™è¯¯ï¼‰==

##### realloc

```c
p=malloc(sizeof(int)*100);
p=realloc(p,120);
or
n=malloc(sizeof(int)*120);
for(int i=0;i<100;i++)
{
    n[i]=p[i];
}
free(p);
p=
```

# 

# ä¹.æœç´¢ä¸æ’åº

### 9.1.1äºŒåˆ†æŸ¥æ‰¾æ³•(while å¾ªç¯ç‰ˆ)

äºŒåˆ†æŸ¥æ‰¾æ³•ï¼šæŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºï¼Œè¾“å…¥nä¸ªæ•´æ•°å¹¶å­˜å…¥æ•°ç»„aä¸­ï¼Œç„¶ååœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ç»™å®šçš„xã€‚å¦‚æœæ•°ç»„aä¸­çš„å…ƒç´ ä¸xçš„å€¼ç›¸åŒï¼Œè¾“å‡ºç›¸åº”çš„ä¸‹æ ‡ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œè¾“å‡ºâ€œnot foundâ€ã€‚å¦‚æœè¾“å…¥çš„nä¸ªæ•´æ•°æ²¡æœ‰æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ï¼Œæˆ–è€…å‡ºç°äº†ç›¸åŒçš„æ•°ï¼Œåˆ™è¾“å‡ºâ€œinvalid value".

> è®¾*n*ä¸ªå…ƒç´ çš„æ•°ç»„*a*å·²å‡åºæ’åˆ—ï¼Œç”¨`begin`å’Œ`end`ä¸¤ä¸ªå˜é‡æ¥è¡¨ç¤ºæŸ¥æ‰¾çš„åŒºé—´ï¼Œå³åœ¨`a[begin] ã€œ a[end]`åŒºé—´å»æŸ¥æ‰¾*x*ã€‚åˆå§‹çŠ¶æ€ä¸º`begin = 0ï¼Œend = n-1`ã€‚é¦–å…ˆç”¨è¦æŸ¥æ‰¾çš„*x*ä¸æŸ¥æ‰¾åŒºé—´çš„ä¸­é—´ä½ç½®å…ƒç´ `a[mid]`ï¼ˆ`mid = (begin + end) / 2`ï¼‰æ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰åˆ™æ‰¾åˆ°ï¼›å¦‚æœ`x < a[mid]`ï¼Œç”±äºæ•°ç»„æ˜¯å‡åºæ’åˆ—çš„ï¼Œåˆ™åªè¦åœ¨`a[begin] ã€œ a[mid-1]`åŒºé—´ç»§ç»­æŸ¥æ‰¾ï¼›å¦‚æœ`x > a[mid]`ï¼Œåˆ™åªè¦åœ¨`a[mid+1] ã€œ a[end]`åŒºé—´ç»§ç»­æŸ¥æ‰¾ã€‚ä¹Ÿå°±æ˜¯æ ¹æ®ä¸ä¸­é—´å…ƒç´ æ¯”è¾ƒçš„æƒ…å†µäº§ç”Ÿäº†æ–°çš„åŒºé—´å€¼`begin`ã€`end`å€¼ï¼Œ**å½“å‡ºç°`left > right`æ—¶ï¼Œè¯´æ˜ä¸å­˜åœ¨ä¸º*x*çš„å…ƒç´ ã€‚**

```c
#include <stdio.h>

# define MAXN 10
int main()
{
    int n,x;
    scanf("%d %d",&n,&x);
    int a[MAXN];
    int i;
    for(i=0;i<n;i++)
    {
        scanf("%d",&a[i]);
    }
    int sorted=1;
    for(i=0;i<n-1;i++)
    {
        if(a[i]>=a[i+1])
        {
            sorted=0;
            break;
        }
    }
    if(sorted==0)
    {
        printf("invalid value");
    }
    else
    {
        int found=0;
        int begin=0,end=n-1;
        int mid;
        while(begin<=end)
        {
            mid=(begin+end)/2;
            if(a[mid]==x)
            {
                found=1;
                break;
            }
            else if(a[mid]>x)
            {
                end=mid-1;
            }
            else
            {
                begin=mid+1;
            }
        }
        if(found==1)
        {
            printf("%d",mid);
        }
        else{
            printf("not found");
        }
    }
}
```

### 9.1.2 äºŒåˆ†æœç´¢æ³•ï¼ˆé€’å½’æ³•ï¼‰

```c
#include <stdio.h>
int search(int x, int a[], int begin , int end)
{
    int ret=-1;
    int mid = (begin + end)/2;
    if(begin > end)
    {
        ret=-1;
    }
    if(a[mid]==x)
    {
        ret = mid;
    }
    else if(a[mid]>x)
    {
       ret = search(x,a,begin,mid-1);
    }
    else{
        ret = search(x,a,mid+1,end);
    }
    return ret;
}
int main()
{
    int n,x;
    scanf("%d %d",&n,&x);
    int a[n];
    for(int i=0;i<n;i++)
    {
        scanf("%d",&a[i]);
    }
    int begin = 0;
    int end = n-1;
    int index = search(x,a,begin,end);
    if(index==-1)
    {
        printf("not found");
    }
    else{
        printf("%d",index);
    }
}
```

### 9.2.1 é€‰æ‹©æ³•æ’åºï¼ˆforå¾ªç¯ç‰ˆï¼‰

æœ¬é¢˜è¦æ±‚å°†nä¸ªæ•´æ•°ä»å°åˆ°å¤§æ’åºåè¾“å‡ºã€‚è¾“å‡ºæ—¶ç›¸é‚»çš„æ•°å­—é—´ä¸€ä¸ªç©ºæ ¼ï¼Œè¡Œæœ«æ²¡æœ‰å¤šä½™çš„ç©ºæ ¼

> **æ­¤å¤„å±•ç¤ºçš„æ˜¯å°†æœ€å°æ•°ç½®äºç¬¬ä¸€ä½ï¼ˆä¾æ¬¡åç§»ï¼‰**
>
> **ç¬¬0æ­¥ï¼šåœ¨æœªæ’åºçš„*n*ä¸ªæ•°ï¼ˆ*a*[0]ã€œ *a*[*n*âˆ’1]ï¼‰ä¸­æ‰¾åˆ°æœ€å°æ•°ï¼Œå°†å®ƒä¸ *a*[0]äº¤æ¢ï¼›**
>
> **ç¬¬1æ­¥ï¼šåœ¨å‰©ä¸‹æœªæ’åºçš„*n*âˆ’1ä¸ªæ•°ï¼ˆ*a*[1] ã€œ *a*[*n*âˆ’1]ï¼‰ä¸­æ‰¾åˆ°æœ€å°æ•°ï¼Œå°†å®ƒä¸ *a*[1] äº¤æ¢ï¼›**
>
> **â€¦â€¦**
>
> **ç¬¬*k*æ­¥ï¼šåœ¨å‰©ä¸‹æœªæ’åºçš„*n*âˆ’*k*ä¸ªæ•°ï¼ˆ*a*[*k*]ã€œ*a*[*n*âˆ’1]ï¼‰ä¸­æ‰¾åˆ°æœ€å°æ•°ï¼Œå°†å®ƒä¸ *a*[*k*] äº¤æ¢ï¼›**
>
> **â€¦â€¦**
>
> **ç¬¬*n*âˆ’2æ­¥ï¼šåœ¨å‰©ä¸‹æœªæ’åºçš„2ä¸ªæ•°ï¼ˆ*a*[*n*âˆ’2] ã€œ*a*[*n*âˆ’1]ï¼‰ä¸­æ‰¾åˆ°æœ€å°æ•°ï¼Œå°†å®ƒä¸ *a*[*n*âˆ’2]äº¤æ¢ã€‚**

```c
#include <stdio.h>
# define MAXN 10
int main()
{
    int n;
    scanf("%d",&n);
    int a[MAXN];
    int i,j,temp;
    for(i = 0;i < n;i++)
    {
        scanf("%d",&a[i]);
    }
    if(n==1)
    {
        printf("%d",a[0]);
    }
    else
    {
        int index;
        for(i = 0;i<n-1;i++)
        {
            for(j = i+1;j<n;j++)
            {
                if(a[j]<a[i])
                {
                    int temp = a[j];
                    a[j] = a[i];
                    a[i] = temp;
                }
            }
        }
        for(i = 0;i < n;i++)
        {
            if(i==0)
            {
                printf("%d",a[i]);
            }
            else{
                printf(" %d",a[i]);
            }
        }
    }
    
}
```

### 9.2.2 é€‰æ‹©æ³•æ’åºï¼ˆé€’å½’ç‰ˆï¼‰

æ­¤å¤„ä¸ºå°†æœ€å¤§æ•°ç§»åˆ°æœ€åä¸€ä½ï¼ˆä¾æ¬¡å‰ç§»ï¼‰

```c
#include<stdio.h>
int findmax(int a[],int begin,int end)
{
    int index = begin;
    int i;
    for(i = begin;i <=end;i++)
    {
        if(a[i]>a[index])
        {
            index=i;
        }
    }
    return index;
}
void sort(int a[],int begin,int end)
{
    int temp,index;
    if(begin<=end)
    {
        index = findmax(a,begin,end);
        temp=a[index];
        a[index]=a[end];
        a[end]=temp;
        sort(a,begin,end-1);
    }
}
int main()
{
    int n;
    scanf("%d",&n);
    int a[10],i;
    for(i=0;i < n;i++)
    {
        scanf("%d",&a[i]);
    }
    sort(a,0,n-1);
    for(i=0;i<n;i++)
    {
        printf("%d ",a[i]);
    }
}
```

#### 9.2.3å°¾é€’å½’è½¬åŒ–ä¸ºwhileå’Œforå¾ªç¯

```c
void sort(int a[],int begin,int end)
{
    int temp,index;
    while(begin<=end)
    {
        index = findmax(a,begin,end);
        temp=a[index];
        a[index]=a[end];
        a[end]=temp;
        end--;
    }
}

```

### 9.3.1å†’æ³¡æ’åº

> **å†’æ³¡æ’åºçš„ç®—æ³•æ­¥éª¤æè¿°å¦‚ä¸‹ï¼š**
>
> **ç¬¬1æ­¥ï¼šåœ¨æœªæ’åºçš„*n*ä¸ªæ•°ï¼ˆ*a*[0]ã€œ *a*[*n*âˆ’1]ï¼‰ä¸­ï¼Œä»*a*[0]èµ·ï¼Œä¾æ¬¡æ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªæ•°ï¼Œè‹¥é‚»æ¥å…ƒç´ ä¸ç¬¦åˆæ¬¡åºè¦æ±‚ï¼Œåˆ™å¯¹å®ƒä»¬è¿›è¡Œäº¤æ¢ã€‚æœ¬æ¬¡æ“ä½œåï¼Œæ•°ç»„ä¸­çš„æœ€å¤§å…ƒç´ â€œå†’æ³¡â€åˆ°*a*[*n*âˆ’1]ï¼›**
>
> **ç¬¬2æ­¥ï¼šåœ¨å‰©ä¸‹æœªæ’åºçš„*n*âˆ’1ä¸ªæ•°ï¼ˆ*a*[0] ã€œ *a*[*n*âˆ’2]ï¼‰ä¸­ï¼Œä»*a*[0]èµ·ï¼Œä¾æ¬¡æ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªæ•°ï¼Œè‹¥é‚»æ¥å…ƒç´ ä¸ç¬¦åˆæ¬¡åºè¦æ±‚ï¼Œåˆ™å¯¹å®ƒä»¬è¿›è¡Œäº¤æ¢ã€‚æœ¬æ¬¡æ“ä½œåï¼Œ*a*[0] ã€œ *a*[*n*âˆ’2]ä¸­çš„æœ€å¤§å…ƒç´ â€œå†’æ³¡â€åˆ°*a*[*n*âˆ’2]ï¼›**
>
> **â€¦â€¦**
>
> **ç¬¬*i*æ­¥ï¼šåœ¨å‰©ä¸‹æœªæ’åºçš„*n*âˆ’*k*ä¸ªæ•°ï¼ˆ*a*[0]ã€œ*a*[*n*âˆ’*i*]ï¼‰ä¸­ï¼Œä»*a*[0]èµ·ï¼Œä¾æ¬¡æ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªæ•°ï¼Œè‹¥é‚»æ¥å…ƒç´ ä¸ç¬¦åˆæ¬¡åºè¦æ±‚ï¼Œåˆ™å¯¹å®ƒä»¬è¿›è¡Œäº¤æ¢ã€‚æœ¬æ¬¡æ“ä½œåï¼Œ*a*[0] ã€œ *a*[*n*âˆ’*i*]ä¸­çš„æœ€å¤§å…ƒç´ â€œå†’æ³¡â€åˆ°*a*[*n*âˆ’*i*]ï¼›**
>
> **â€¦â€¦**
>
> **ç¬¬*n*âˆ’1æ­¥ï¼šåœ¨å‰©ä¸‹æœªæ’åºçš„2ä¸ªæ•°ï¼ˆ*a*[0] ã€œ*a*[1]ï¼‰ä¸­ï¼Œæ¯”è¾ƒè¿™ä¸¤ä¸ªæ•°ï¼Œè‹¥ä¸ç¬¦åˆæ¬¡åºè¦æ±‚ï¼Œåˆ™å¯¹å®ƒä»¬è¿›è¡Œäº¤æ¢ã€‚æœ¬æ¬¡æ“ä½œåï¼Œ*a*[0] ã€œ *a*[1]ä¸­çš„æœ€å¤§å…ƒç´ â€œå†’æ³¡â€åˆ°*a*[1]ã€‚**

```c
#include <stdio.h>
# define MAXN 10
int main()
{
    int i,j,n,temp;
    int a[MAXN];
    scanf("%d",&n);
    for(i=0;i<n;i++)
    {
        scanf("%d",&a[i]);
    }
    for(i=1;i<n;i++)
    {
        for(j=0;j<n-1;j++)      //æˆ–è€…j<n-i;æ¯ä¸€è½®éƒ½å°†æ­¤æ—¶çš„æœ€å¤§æ—¶æ”¾åˆ°æœ«å°¾
        {
            if(a[j]>a[j+1])
            {
                temp=a[j];
                a[j]=a[j+1];
                a[j+1]=temp;
            }
        }
    }
    for(i = 0;i < n;i++)
    {
        if(i==0)
        {
            printf("%d",a[i]);
        }
        else{
            printf(" %d",a[i]);
        }
    }
}
```

#### 9.3.2å°¾é€’å½’å‡½æ•°

```c
void bubble_sort(int a[],int size)
{
    for(int i=1;i<size;i++)
    {
        for(int j=0;j<size-i;j++)
        {
            if(a[j]>a[j+1])
            {
                int temp=a[j];
                a[j]=a[j+1];
                a[j+1]=temp;
            }
        }
    }
}
```

#### 9.3.3 å†’æ³¡æ’åºçš„ä¼˜åŒ–

å†’æ³¡è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½é¡ºä¾¿æŠŠå¤šä¸ªæ•°æ®ä¸€èµ·æ’å¥½äº†é¡ºåº

å¦‚æœå‘ç°æå‰æ’å¥½äº†ï¼Œä¸‹ä¸€è½®å°±å¯ä»¥å°‘è·‘å‡ ä¸ªæ•°æ®

```c
void bubble_sortplus(int a[],n)
{
    int i,j,temp,loc=-1;
    for(i=1;i<n;i++)
    {
        loc=-1;
        for(j=0;j<n-i;j++)
        {
            if(a[j]>a[j+1])
            {
                temp=a[j];
                a[j]=a[j+1];
                a[j+1]=temp;
                loc=j;
            }
        }
        i=n-loc-1;
    }
}
```

### 9.4.1æ’å…¥æ’åºï¼ˆforå¾ªç¯ç‰ˆï¼‰

æ€è·¯ï¼šå…ˆå°†å‰n-1ä¸ªæ•°é¡ºåºæ’å¥½ï¼Œåœ¨æ’å…¥æœ€åä¸€ä¸ªæ•°

ç¼–ç¨‹å®ç°æ’å…¥æ’åºå‡½æ•°ã€‚

**void insertionSort(int [], int n);**ã€‚å…¶ä¸­aå­˜æ”¾å¾…æ’åºçš„æ•°æ®ï¼Œnä¸ºæ•°ç»„é•¿åº¦ï¼ˆ1â‰¤nâ‰¤1000ï¼‰ã€‚

```c
#include <stdio,h>
#define MAXN 1000
int main()
{
    int n,i,j;
    scanf("%d",&n);
    int a[MAXN];
    for(i=0;i<n;i++)
    {
        scanf("%d",&a[i]);
    }
    insertionsort(a,n);
    printarray(a,n);
}
void insertionsort(int a[],int n)
{
    int i,j,temp;
    for(i=0;i<n;i++)
    {
        for(j=0;j<i;j++)             //æ­¤å¤„åŒºåˆ«äºå†’æ³¡æ’åºï¼ˆå…ˆæ’å‰iä¸ªï¼‰
        {
            if(a[i]<a[j])
            {
                temp=a[i];
                a[i]=a[j];
                a[j]=temp;
            }
        }
    }
}
void printarray(int a[],int n)
{
    for(int i=0;i<n;i++)                       
    {                                                
        if(i==0)
        {
            printf("%d",a[i]);
        }
        else
        {
            printf(" %d",a[i]);
        }
    }
}
//æˆ–è€…å¯ä»¥å†™ä½œ
void printarray(int a[],int n)
{
    for(int i=0;i<n;i++)
    {
        printf("%d",a[i]);
    }
    if(i<n-1)
    {
        printf(" ");
    }
}
```

#### 9.4.2æ’å…¥æ’åºï¼ˆé€’å½’ç‰ˆï¼‰

```c
void insertionsort(int a[],int n)
{
    if(n>0)
    {
        insertionsort(a,n-1);
        int i,j,x;
        x=a[n-1];
        for(i=n-2;i>=0;i--)
        {
            if(a[i]>x)
            {
                a[i+1]=a[i];
            }
            else
            {
                break;
            }
        }
        a[i+1]=x;
    }
}

if(n>0)
	{
		int i,temp;
		insertsort(a,n-1);
		for(i = n-1;i>= 0;i--)
		{
			if(a[i+1]<a[i])
			{
				temp = a[i];
				a[i] = a[i+1];
				a[i+1] = temp;
			}
		}
	}
```





### ==9.5 Cè¯­è¨€å†…ç½®çš„æ’åºçš„å‡½æ•°==

> **void qsort(void* base,size_t num,size_t width,int(__cdecl*compare)(const void*,const void*));**

```c
#include <stdlib.h>

int cmp_int(const void*_a,const void*_b)
{
    int* a = (int*)_a;  //ä»void*zhuan'hau
    int* b = (int*)_b;
    return *a - *b;
}
int cmp_double(const void*_a.const void*_b)
{
    double* a = (double*)_a;
    double* b = (double*)_b;
    return *a - *b;
}

int cmp_char(const void* _a , const void* _b)ã€€
{
    char* a = (char*)_a;    
    char* b = (char*)_b;
    return *a - *b;ã€€ã€€
}


int main()
{
    //æ„é€ æ•°ç»„()
    qsort(arr,n,sizeof(æ•°æ®ç±»å‹),cmp);
}
```

### ==9.6 å¿«é€Ÿæ’åº==

å¿«é€Ÿæ’åºæ‰€é‡‡ç”¨çš„æ€æƒ³æ˜¯åˆ†æ²»çš„æ€æƒ³ã€‚æ‰€è°“åˆ†æ²»ï¼Œå°±æ˜¯æŒ‡ä»¥ä¸€ä¸ªæ•°ä¸ºåŸºå‡†ï¼Œå°†åºåˆ—ä¸­çš„å…¶ä»–æ•°å¾€å®ƒä¸¤è¾¹â€œæ‰”â€ã€‚ä»¥ä»å°åˆ°å¤§æ’åºä¸ºä¾‹ï¼Œæ¯”å®ƒå°çš„éƒ½â€œæ‰”â€åˆ°å®ƒçš„å·¦è¾¹ï¼Œæ¯”å®ƒå¤§çš„éƒ½â€œæ‰”â€åˆ°å®ƒçš„å³è¾¹ï¼Œç„¶åå·¦å³ä¸¤è¾¹å†åˆ†åˆ«é‡å¤è¿™ä¸ªæ“ä½œï¼Œä¸åœåœ°åˆ†ï¼Œç›´è‡³åˆ†åˆ°æ¯ä¸€ä¸ªåˆ†åŒºçš„åŸºå‡†æ•°çš„å·¦è¾¹æˆ–è€…å³è¾¹éƒ½åªå‰©ä¸€ä¸ªæ•°ä¸ºæ­¢ã€‚è¿™æ—¶æ’åºä¹Ÿå°±å®Œæˆäº†ã€‚

å‡è®¾åºåˆ—ä¸­æœ‰ n ä¸ªæ•°ï¼Œå°†è¿™ n ä¸ªæ•°æ”¾åˆ°æ•°ç»„ A ä¸­ã€‚â€œèˆåŠ¨ç®—æ³•â€ä¸­ä¸€è¶Ÿå¿«é€Ÿæ’åºçš„ç®—æ³•æ˜¯ï¼š

1. è®¾ç½®ä¸¤ä¸ªå˜é‡ iã€jï¼Œæ’åºå¼€å§‹çš„æ—¶å€™ï¼ši=0ï¼Œj=nâ€“1ã€‚
2. ä»¥æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºå…³é”®æ•°æ®ï¼Œèµ‹ç»™å˜é‡ keyï¼Œå³ key=A[0]ã€‚
3. ä» j å¼€å§‹å‘å‰æœç´¢ï¼Œå³ç”±åå¼€å§‹å‘å‰æœç´¢ï¼ˆj--ï¼‰ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå°äº key çš„å€¼ A[j]ï¼Œå°† A[j] å’Œ A[i] äº’æ¢ã€‚
4. ç„¶åå†ä» i å¼€å§‹å‘åæœç´¢ï¼Œå³ç”±å‰å¼€å§‹å‘åæœç´¢ï¼ˆ++iï¼‰ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äº key çš„ A[i]ï¼Œå°† A[i] å’Œ A[j] äº’æ¢ã€‚
5. é‡å¤ç¬¬ 3ã€4 æ­¥ï¼Œç›´åˆ° i=jã€‚æ­¤æ—¶å°±èƒ½ç¡®ä¿åºåˆ—ä¸­æ‰€æœ‰å…ƒç´ éƒ½ä¸ key æ¯”è¾ƒè¿‡äº†ï¼Œä¸” key çš„å·¦è¾¹å…¨éƒ¨æ˜¯æ¯” key å°çš„ï¼Œkey çš„å³è¾¹å…¨éƒ¨æ˜¯æ¯” key å¤§çš„ã€‚

ä¸‹é¢åˆ—ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæ¯”å¦‚å¯¹å¦‚ä¸‹æ•°ç»„ a ä¸­çš„å…ƒç´ ä½¿ç”¨å¿«é€Ÿæ’åºå®ç°ä»å°åˆ°å¤§æ’åºï¼š

>  35 12 37 -58 54 76 22

1) é¦–å…ˆ**åˆ†åˆ«å®šä¹‰ low å’Œ high ç”¨äºå­˜å‚¨æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡**ï¼Œå³ **low=0ï¼Œhigh=6**ã€‚

2) ç„¶åå®šä¹‰ key ç”¨äºå­˜æ”¾åŸºå‡†æ•°ï¼Œç†è®ºä¸Šè¯¥åŸºå‡†æ•°å¯ä»¥å–åºåˆ—ä¸­çš„ä»»ä½•ä¸€ä¸ªæ•°ã€‚æ­¤å¤„å°±å–æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå³æŠŠ a[low] èµ‹ç»™ keyã€‚

3) ç„¶å key å’Œ a[high] æ¯”è¾ƒï¼Œå³ 35 å’Œ 22 æ¯”è¾ƒï¼Œ35>22ï¼Œåˆ™å®ƒä»¬äº’æ¢ä½ç½®ï¼š

> 22 12 37 -58 54 76 35

4) ç„¶å low++==1ï¼Œkey å’Œ a[low] æ¯”è¾ƒï¼Œå³ 35 å’Œ 12 æ¯”è¾ƒï¼Œ12<35ï¼Œåˆ™ä¸ç”¨äº’æ¢ä½ç½®ï¼›ç»§ç»­ low++==2ï¼Œç„¶å key å’Œ a[low] æ¯”è¾ƒï¼Œå³ 35 å’Œ 37 æ¯”è¾ƒï¼Œ37>35ï¼Œåˆ™å®ƒä»¬äº’æ¢ä½ç½®ï¼š

> 22 12 35 -58 54 76 37

5) ç„¶å high--==5ï¼Œkey å’Œ a[high] æ¯”è¾ƒï¼Œå³ 35 å’Œ 76 æ¯”è¾ƒï¼Œ35<76ï¼Œåˆ™ä¸ç”¨äº’æ¢ä½ç½®ï¼›ç»§ç»­ high--==4ï¼Œç„¶å key å’Œ a[high] æ¯”è¾ƒï¼Œå³ 35 å’Œ 54 æ¯”è¾ƒï¼Œ35<54ï¼Œåˆ™ä¸ç”¨äº’æ¢ä½ç½®ï¼›ç»§ç»­ high--==3ï¼Œç„¶å key å’Œ a[high] æ¯”è¾ƒï¼Œå³ 35 å’Œ -58 æ¯”è¾ƒï¼Œ35>â€“58ï¼Œåˆ™å®ƒä»¬äº’æ¢ä½ç½®ï¼š

> 22 12 -58 35 54 76 37

6) ç„¶å low++==3ï¼Œæ­¤æ—¶ low==highï¼Œç¬¬ä¸€è½®æ¯”è¾ƒç»“æŸã€‚ä»æœ€åå¾—åˆ°çš„åºåˆ—å¯ä»¥çœ‹å‡ºï¼Œ35 å·¦è¾¹çš„éƒ½æ¯” 35 å°ï¼Œ35 å³è¾¹çš„éƒ½æ¯” 35 å¤§ã€‚è¿™æ ·å°±ä»¥ 35 ä¸ºä¸­å¿ƒï¼ŒæŠŠåŸåºåˆ—åˆ†æˆäº†å·¦å³ä¸¤ä¸ªéƒ¨åˆ†ã€‚æ¥ä¸‹æ¥åªéœ€è¦åˆ†åˆ«å¯¹å·¦å³ä¸¤ä¸ªéƒ¨åˆ†åˆ†åˆ«é‡å¤ä¸Šè¿°æ“ä½œå°±è¡Œäº†ã€‚

***å…¶ä¸­æ¯ä¸€è½®éƒ½æ˜¯keyä¸a[low]æˆ–è€…a[high]äº¤æ¢***

#### 9.6.1äº¤æ¢ç‰ˆ

```c
#include <stdio.h>
void swap(int*a,int*b)
{
    int temp;
    temp=*a;
    *a=*b;
    *b=temp;
}
void quicksort(int a[],int low,int high)
{
    int i = low;
    int j = high;
    int key = a[i];
    if(i >= j)
    {
        return;
    }
    while(i < j)
    {
        while(i < j && a[j]>=key)  
        {
            j--;
        }
        if(a[j] < key)
        {
            swap(&a[i],&a[j]);
        }
        while(i < j && a[i] <= key )
        {
            i++;
        }
        if(a[i] > key)
        {
            swap(&a[i],&a[j]);
        }
    }
    quicksort(a,low,i-1);
    quicksort(a,i+1,high);
}
int main()
{
    int n;
    scanf("%d",&n);
    int i,a[n];
    for(i=0;i<n;i++)
    {
        scanf("%d",&a[i]);
    }
    quicksort(a,0,n-1);
    for(i=0;i<n;i++)
    {
        printf("%d ",a[i]);
    }
}
```

> **æ³¨æ„ç‚¹ï¼š**
>
> 1. **ä¸è¦åˆ¤æ–­ifï¼ˆi >= j) return; å¦åˆ™ç¨‹åºä¼šä¸€ç›´æŒç»­ä¸‹å»**
>
> 2. **å…ˆå¯¹jè¿›è¡Œæ“ä½œï¼Œç¬¬ä¸€ä¸ªå°äºkeyçš„å€¼ç§»åˆ°ç¬¬ä¸€ä½ã€‚å¦åˆ™ï¼Œå…ˆå¯¹iæ“ä½œçš„è¯ï¼Œä¼šè‡ªç„¶åœ°è·³è¿‡keyï¼Œä»è€Œæ— æ³•å®ç°åˆ†å‰²ã€‚**

#### 9.6.2ç›´æ¥èµ‹å€¼ç‰ˆ

```c
# include <stdio.h>
void QuickSort(int a[], int low, int high);  /*ç°åœ¨åªéœ€è¦å®šä¹‰ä¸€ä¸ªå‡½æ•°, ä¸ç”¨äº¤æ¢è¿˜çœäº†ä¸€ä¸ªå‡½æ•°, å‡å°‘äº†ä»£ç é‡*/
int main(void)
{
    int i;  //å¾ªç¯å˜é‡
    int a[] = {900, 2, -58, 3, 34, 5, 76, 7, 32, 4, 43, 9, 1, 56, 8,-70, 635, -234, 532, 543, 2500};
    QuickSort(a, 0, 20);  /*å¼•ç”¨èµ·æ¥å¾ˆç®€å•, 0ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡, 20ä¸ºæœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡*/
    printf("æœ€ç»ˆæ’åºç»“æœä¸º:\n");
    for (i=0; i<21; ++i)
    {
        printf("%d ", a[i]);
    }
    printf("\n");
    return 0;
}
void QuickSort(int *a, int low, int high)
{
    int i = low;
    int j = high;
    int key = a[low];
    if (low >= high)  //å¦‚æœlow >= highè¯´æ˜æ’åºç»“æŸäº†
    {
        return ;
    }
    while (low < high)  //è¯¥whileå¾ªç¯ç»“æŸä¸€æ¬¡è¡¨ç¤ºæ¯”è¾ƒäº†ä¸€è½®
    {
        while (low < high && a[high] >= key)
        {
            --high;  //å‘å‰å¯»æ‰¾
        }            //æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”keyå°çš„æ•°
        if (key > a[high])
        {
            a[low] = a[high];  //ç›´æ¥èµ‹å€¼ï¼ˆa[low]åˆå§‹å€¼å°±æ˜¯keyï¼‰, ä¸ç”¨äº¤æ¢
            low++;
        }
        while (low < high && key >= a[low])
        {
            ++low;  //å‘åå¯»æ‰¾
        }
        if (key < a[low])
        {
            a[high] = a[low];  //ç›´æ¥èµ‹å€¼, ä¸ç”¨äº¤æ¢
            --high;
        }
    }
    a[low] = key;  //æŸ¥æ‰¾å®Œä¸€è½®åkeyå€¼å½’ä½, ä¸ç”¨æ¯”è¾ƒä¸€æ¬¡å°±äº’æ¢ä¸€æ¬¡ã€‚æ­¤æ—¶keyå€¼å°†åºåˆ—åˆ†æˆå·¦å³ä¸¤éƒ¨åˆ†
    QuickSort(a, i, low-1);  //ç”¨åŒæ ·çš„æ–¹å¼å¯¹åˆ†å‡ºæ¥çš„å·¦è¾¹çš„éƒ¨åˆ†è¿›è¡ŒåŒä¸Šçš„åšæ³•
    QuickSort(a, low+1, j);  //ç”¨åŒæ ·çš„æ–¹å¼å¯¹åˆ†å‡ºæ¥çš„å³è¾¹çš„éƒ¨åˆ†è¿›è¡ŒåŒä¸Šçš„åšæ³•
}
```

#### 9.6.3åŒæŒ‡é’ˆåµŒå¥—ä½¿ç”¨(å–ä¸­é—´æ•°ä¸ºåŸºå‡†å€¼)

```c
int partition(int a[],int low,int high)
{
    int i = low-1;               //do while å¾ªç¯ä¸­å…ˆè¿›è¡Œi++ï¼›a[i]ä»a[0]å¼€å§‹
    int j= high+1;               //åŒç†ï¼Œa[j]ä»a[n-1]å¼€å§‹
    int mid = (low+high)/2;
    int key=a[mid];
    while(low < high)
    {
        do
        {
            j--;
        }
        while(a[j]>key);
        do
        {
            i++;
        }
        while(a[i]<key);
        if(i>=j) return j;//jçš„ååˆ—æ˜¯a[j]<=key,æ•…ä¼šåœ¨ç­‰äºçš„æ—¶å€™åœä½ï¼Œä¹Ÿå°±æ˜¯keyçš„ä½ç½®
        int temp = a[i];
        a[i] = a[j];
        a[j] = temp;
    }
}
void quicksort(int a[],int low, int high)
{
    if(low>=high)
    {
        return;
    }
    int pivot=partition(a,low,high);
    quicksort(a,0,pivot);
    quicksort(a,pivot+1,high);
}
```

#### 9.6.4åŒå‡½æ•°åµŒå¥—ï¼ˆå–ç¬¬ä¸€ä½ä¸ºåŸºå‡†å€¼ï¼‰

```c
fu'zhi
int partition(int a[],int low,int high)
{
    int i=low;
    int j=high;
    int key=a[i];
    while(i<j)
    {
    	while(a[j]>=key&&j>i)
    	{
    		j--;
		}
		a[i]=a[j];
		while(a[i]<=key&&j>i)
		{
			i++;
		}
		a[j]=a[i];
	}
	a[i]=key;
	return i;
}
void quicksort(int a[],int low, int high)
{
    if(low>=high)
    {
        return;
    }
    int pivot=partition(a,low,high);
    quicksort(a,0,pivot-1);
    quicksort(a,pivot+1,high);
}
äº¤æ¢æ³•
nt partition(int a[],int low,int high)
{
	int i =low;
	int j = high;
	int key = a[low];
	while(i<j)
	{
		while(i<j && a[j] >= key)
		{
			j--;
		}
		if(a[j] < key)
		{
			int t =a[i];
			a[i] = a[j];
			a[j] = t;
		}
		while(i < j &&a[i] <= key)
		{
			i++;
		}
		if(a[i] > key)
		{
			int t =a[i];
			a[i] = a[j];
			a[j] = t;
		}
		if(i >= j)
		{
			return i;
		}
	}
}
```

#### 9.6.5å•æŒ‡é’ˆåµŒå¥—ï¼ˆå»æœ€åä¸€ä½ä¸ºåŸºå‡†å€¼ï¼‰

```c
#include <stdio.h>
void swap(int*a,int*b)
{
    int temp;
    temp=*a;
    *a=*b;
    *b=temp;
}
int partition(int a[],int low,int high)
{
    int key=a[high];
    int i=low;
    int j;
    for(j=low;j<=high;j++)
    {
    	if(a[j]<key)                  //ç‰¹æ®Šæƒ…å†µç¬¬ä¸€ä½å°±å°äºkeyï¼Œijåˆ†åˆ«å˜æˆlow+1ï¼›
    	{
    		swap(&a[i],&a[j]);
    		i=i+1;
		}
		
	}
	swap(&a[i],&a[high]);         //åªæœ‰a[j]<keyæ—¶æ‰ä¼šä¸a[i]äº¤æ¢ï¼Œå¹¶ä¸”jå¿…ç„¶å¤§äºiï¼Œä»è€Œiæ‰€åœ¨çš„ä½ç½®æ˜¯ä¸€ä¸ªå¤§äºç­‰äºkeyçš„æ•°ï¼Œæœ€åa[i]è¦ä¸a[high](ä¹Ÿå°±æ˜¯key)äº¤æ¢
	return i;   //æ­¤æ—¶içš„ä½ç½®å°±æ˜¯key
}
void quicksort(int a[],int low,int high)
{
	if(low>=high)
    {
        return;
    }
    int pivot=partition(a,low,high);
    quicksort(a,low,pivot-1);
    quicksort(a,pivot+1,high);
}
int main()
{
    int n;
    scanf("%d",&n);
    int i,a[n];
    for(i=0;i<n;i++)
    {
        scanf("%d",&a[i]);
    }
    quicksort(a,0,n-1);
    for(i=0;i<n;i++)
    {
        printf("%d ",a[i]);
    }
}
```









### ==9.7 å½’å¹¶æ’åºï¼ˆmergesortï¼‰==

![](C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/merge sort.png)

```c
#include <stdio.h>

void mergesort(int a[],int low, int high);
void merge(int a[],int low,int mid,int high);

int main()
{
    int n;
    scanf("%d",&n);
    int a[n];
    for(int i=0;i<n;i++)
    {
        scanf("%d",&a[i]);
    }
    mergesort(a,0,n-1);
    for(int i=0;i<n;i++)
    {
        printf("%d ",a[i]);
    }   
}
void mergesort(int a[],int low,int high)
{
    if(high-low<1)        //ç›¸å½“äºlow>=high
    {
        return;
    }
    int mid=(low+high)/2;
    mergesort(a,low,mid);
    mergesort(a,mid+1,high);
    merge(a,low,mid,high);     //å…ˆå°†å·¦å³ä¸¤è¾¹æŒ‰é¡ºåºæ’å¥½ï¼Œå†ç”¨
}
void merge(int a[],int low,int mid,int high)
{
    int i=low;
    int j=mid+1;
    int b[high+1];
    for(int k=low;k<=high;k++)
    {
        if(i<=mid&&(a[i]<a[j]||j>high))
        {
            b[k]=a[i++];
        }
        else
        {
            b[k]=a[j++];
        }
    }
    for(int k=low;k<=high;k++)
    {
        a[k]=b[k];
    }
}

void merge(int a[],int low,int mid,int high)
{
	int i =low;
	int j = mid+1;
	int b[high+1];
	int k;
	for( k = low;k <= high && i<=mid &&j<=high;k++)
	{
		if(a[i] < a[j])
		{
			b[k] = a[i];
			i++;
		}
		else
		{
			b[k] = a[j];
			j++;
		}
	}
	for(;i<= mid;i++)
	{
		b[k++] = a[i];
	}
	for(;j <= high;j++)
	{
		b[k++] = a[j];
	}
	for(i=low;i<=high;i++)
	{
		a[i] = b[i];
	}
}
```

- - 





# å.å­—ç¬¦ä¸²(æ²¡æœ‰å­—ç¬¦ä¸²ç±»å‹)

```c
char word[]={'h','e','l','l','o','\0'};
```

- é¦–å…ˆå­—ç¬¦ä¸²éœ€è¦ä»¥'\0'ç»“å°¾

  - ä½†æ˜¯0æˆ–'\0'æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯"0"å’Œå‰è€…ä¸åŒ

  - > 0æ ‡å¿—ç€å­—ç¬¦ä¸²çš„ç»“æŸï¼Œ**ä½†ä¸æ˜¯å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†**

  - ***è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦çš„æ—¶å€™ä¸åŒ…å«è¿™ä¸ª0***

  - ***ä½†æ˜¯è®¡ç®—æ•°ç»„çš„é•¿åº¦æ—¶åŒ…å«'\0'(æ˜¯å•å¼•å·çš„0ï¼Œä¸æ˜¯åŒå¼•å·)***

### 10.1 å­—ç¬¦ä¸²å˜é‡

#### 10.1.1å­—ç¬¦ä¸²å¸¸é‡

```c
char *str = "hello";   //å­—ç¬¦æŒ‡é’ˆï¼ŒæŒ‡å‘å­—ç¬¦ä¸²è‡ªå˜é‡
char word[] = "hello"; //å­—ç¬¦æ•°ç»„
char line[10] = "hello";
```

- > "hello"ä¼šè¢«ç¼–è¯‘å™¨å˜æˆä¸€ä¸ªå­—ç¬¦æ•°ç»„æ”¾åœ¨æŸå¤„ï¼ŒğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢**è¿™ä¸ªæ•°ç»„çš„é•¿åº¦ä¸º6ï¼Œç»“å°¾è¿˜æœ‰è¡¨ç¤ºç»“æŸçš„"\0"**â›”
  >
  > printf("%d\n",strlen(word));    5
  > printf("%d\n",sizeof(word));    6

- ä¸¤ä¸ªç›¸é‚»çš„å­—ç¬¦ä¸²å¸¸é‡ä¼šè¢«è‡ªåŠ¨è¿æ¥èµ·æ¥

- cè¯­è¨€çš„å­—ç¬¦ä¸²ä»¥**å­—ç¬¦æ•°ç»„**çš„å½¢å¼å­˜åœ¨

  - å¯ä»¥é€šè¿‡æ•°ç»„çš„æ–¹å¼å¯ä»¥éå†å­—ç¬¦ä¸²

  - ```c
    #include <stdio.h>
    int main()
    {
    	char word[]="hello";
        for(int i=0;word[i] != '\0';i++)
        {
            printf("%c ",word[i]); //h e l l o
        }
    }
    
    ```

  - 


---



> ## char *s = "hello"

- **sæ˜¯ä¸€ä¸ªæŒ‡å‘å­—ç¬¦çš„æŒ‡é’ˆï¼Œå½“æŒ‡å‘çš„å­—ç¬¦æ•°ç»„çš„ç»“å°¾æ˜¯'\0'æ—¶ï¼Œæ‰æŒ‡å‘å­—ç¬¦ä¸²****(**å­—ç¬¦ä¸²çš„é™åˆ¶æ¡ä»¶)****

  - ä½†æ˜¯è¿™ä¸ªå­—ç¬¦ä¸²å¸¸é‡æ‰€åœ¨çš„åœ°æ–¹æ˜¯**åªè¯»åŒºï¼ˆROï¼Œread onlyï¼‰**ï¼Œå®é™…ä¸Šæ˜¯**const char *s(ä¸èƒ½é€šè¿‡æŒ‡é’ˆå»ä¿®æ”¹å˜é‡çš„å€¼)**

  - ```c
    char *s="hello";
    s[0]="B";             //æ­¤å¤„ä¾¿ä¼šå‘ç”Ÿæ®µé”™è¯¯
    printf("%c",s[0]);
    ```

- å¦‚æœéœ€è¦ä¿®æ”¹å­—ç¬¦ä¸²å¸¸é‡ï¼Œåˆ™éœ€è¦ä½¿ç”¨æ•°ç»„

  - char word[] = "hello"

  - ```c
    word[1]='o';
    	printf("%s\n",word);    //hollo
    ```

  - 

> **æ€»ç»“ï¼šå¦‚æœè¦æ„é€ ä¸€ä¸ªå­—ç¬¦ä¸²â€”â€”æ•°ç»„**
>
> â€‹            **å¦‚æœè¦å¤„ç†ä¸€ä¸ªå­—ç¬¦ä¸²â€”â€”æŒ‡é’ˆ**

ç©ºå­—ç¬¦ä¸²

- char string[100]="";
  - è¿™æ˜¯ä¸€ä¸ªç©ºçš„å­—ç¬¦ä¸²ï¼Œstring[0]=='\0';
- char string[]="";
  - è¿™ä¸ªæ•°ç»„çš„é•¿åº¦ä¸º1ï¼Œåªæœ‰string[0]=='\0';

å¹¶ä¸”''ä¸åˆæ³•

### 10.2å­—ç¬¦ä¸²è¾“å…¥è¾“å‡º

```c
char string[8];
scanf("%s",string);
printf("%s",string);
```

scanfè¯»å…¥ä¸€ä¸ªå•è¯ï¼ˆåˆ°ç©ºæ ¼ã€tabæˆ–è€…å›è½¦ä¸ºæ­¢ï¼‰

ä½†æ˜¯scanfå­˜åœ¨ç€ä¸è¶³ï¼Œæ— æ³•çŸ¥é“è¯»å…¥å­—ç¬¦ä¸²çš„é•¿åº¦,å®¹æ˜“é€ æˆç³»ç»Ÿé”™è¯¯

>  **è§£å†³æ–¹æ³•ï¼šaå®‰å…¨è¾“å…¥**
>
>  ```c
>  char string[8];
>  scanf("%7s",string);
>  ```
>
>  **åœ¨ç™¾åˆ†å·ä¸sä¹‹é—´çš„æ•°å­—è¡¨ç¤ºæœ€å¤šå…è®¸è¯»å…¥çš„å­—ç¬¦çš„æ•°é‡ï¼Œè¿™ä¸ªæ•°å­—åº”æ¯”æ•°ç»„çš„å¤§å°å°1ï¼ˆç»“å°¾çš„'\0'ï¼‰**
>
>  ```c
>  char string[5];
>  scanf("%4s",string);      //123456789
>  printf("%s\n",string);    //1234
>  scanf("%4s",string);
>  printf("%s\n",string);    //5678
>  ```
>
>  

å¸¸è§é”™è¯¯ï¼š

```c
char *string;
scanf("%s",string);
```

ä»¥ä¸ºchar*æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä½†å®é™…ä¸Šæ˜¯æŒ‡é’ˆ

æ²¡æœ‰å¯¹æŒ‡é’ˆè¿›è¡Œåˆå§‹åŒ–ï¼Œä¾‹å¦‚ï¼šchar *string = &p;

### 10.3å­—ç¬¦ç»„æ•°ç»„

é¦–å…ˆchar[ ] [ ]ä¸char *aä¸åŒ

![](C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/æŒ‡é’ˆ.png)

```c
#include <stdio.h>
int main()
{
    char *m[]={"Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"};
    int month;
    scanf("%d",&month);
    printf("%s",m[month-1]);
}
```

- > ä¸Šä¾‹ä¸­ï¼Œ**mæ˜¯ä¸€ä¸ª13å•å…ƒçš„æ•°ç»„ï¼Œè¯¥æ•°ç»„çš„æ¯ä¸€ä¸ªå•å…ƒéƒ½æ˜¯æŒ‡é’ˆï¼Œè¿™äº›æŒ‡é’ˆå„æŒ‡å‘ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚**

  - æŠŠæŒ‡é’ˆæ•°ç»„åmçœ‹ä½œæŒ‡é’ˆçš„è¯ï¼Œå®ƒæŒ‡å‘æ•°ç»„çš„ç¬¬0å·å…ƒç´ ï¼Œå®ƒæŒ‡å‘çš„ç±»å‹æ˜¯char*
  - *mä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒçš„ç±»å‹æ˜¯charï¼Œå®ƒæŒ‡å‘çš„åœ°å€æ˜¯å­—ç¬¦"Jan"çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„åœ°å€ï¼Œå³â€œJâ€çš„åœ°å€ã€‚
  - m+1ä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒæŒ‡å‘æ•°ç»„çš„ç¬¬ä¸€å·å…ƒç´ ï¼ŒæŒ‡å‘ç±»å‹char*
  - *(m+1)ä¹Ÿæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒæŒ‡å‘çš„ç±»å‹æ˜¯charï¼ŒæŒ‡å‘â€œFebâ€çš„F

  > **ç²—æµ…çš„ç†è§£ï¼šæŒ‡é’ˆå˜é‡å¯çœ‹ä½œæ•°ç»„ï¼Œint *p = &a[5]ï¼›æ­¤æ—¶å¯ä»¥ç›´æ¥æŠŠpçœ‹ä½œæ•°ç»„ï¼Œpã€0ã€‘=â€¦â€¦ï¼›p[1]=â€¦â€¦ï¼›**
  >
  > **æ‰€ä»¥æ­¤å¤„mè¡¨ç¤ºçš„å°±æ˜¯*mï¼Œå®ƒæŒ‡å‘çš„ç±»å‹å°±æ˜¯char**

```c
#include <stdio.h>
int main()
{
    char m[][10]={          //è¡¨ç¤ºå­—ç¬¦ä¸²æœ€å¤šåä¸ªå­—èŠ‚
    "January",
	"Februry",
	"March",
	"April",
	"May",
	"June",
	"July",
	"August",
	"September",
	"October",
	"November",
	"December",	
    };  
    int month;
    scanf("%d",&month);
    printf("%s",m[month-1]);
}
```

<img src="C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/image-20221202141602177.png" alt="image-20221202141602177" style="zoom:200%;" />

>**s[1] [1]è¡¨ç¤ºç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„ç¬¬äºŒä¸ªå­—ç¬¦ï¼Œå³d**
>
>**pæ˜¯ä¸€ä¸ªchar*çš„æŒ‡é’ˆï¼ŒæŒ‡å‘çš„æ˜¯å­—ç¬¦æ•°ç»„çš„é¦–åœ°å€ï¼Œ&s[0] [0].**
>
>**++pè¡¨ç¤ºæŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€ä½å³&s[0] [1],**
>
>**åˆ™ *ï¼ˆ++pï¼‰è¡¨ç¤ºs[0] [1]å³â€™bâ€˜ï¼Œ**
>
>**'b'+2,å¾—åˆ°çš„å°±æ˜¯â€˜dâ€™çš„ASCIIç **

### 10.4 å­—ç¬¦ä¸²å‡½æ•°

#### 10.4.1 å•å­—ç¬¦çš„è¾“å…¥è¾“å‡ºï¼Œç”¨putchar å’Œ getchar

è¾¨æï¼šå¤šå­—ç¬¦çš„è¾“å…¥è¾“å‡ºï¼š

```c
char string[8];
scanf("%s",string);  //ä½†æ˜¯ä¸€æ¬¡åªèƒ½è¾“7ä½ï¼Œæœ€åä¸€ä½æ˜¯'\0'
printf("%s",string);
```

1. putchar(åªå¤„ç†å­—ç¬¦ï¼Œä¸å¤„ç†å­—ç¬¦ä¸²)

- > **int putchar(int char);** **å­—ç¬¦å®é™…ä¸Šä»¥æ•´æ•°å½¢å¼å­˜å‚¨**

- å‘æ ‡å‡†è¾“å‡ºå†™ä¸€ä¸ªå­—ç¬¦

- è¿”å›å†™äº†å‡ ä¸ªå­—ç¬¦ï¼ŒEOFè¡¨ç¤ºå†™å¤±è´¥

```c
char ch = 'a';
putchar(ch);    //ä¸printf("%c",ch);ä½œç”¨ç›¸åŒ
putchar(ch+1);  //è¾“å‡ºç»“æœä¸ºbï¼ˆå› ä¸ºä»¥å­—ç¬¦ä»¥æ•´æ•°å½¢å¼å­˜å‚¨ï¼‰
```

2. getchar 

- int getchar(void);
- ä»æ ‡å‡†è¾“å…¥è¯»å…¥ä¸€ä¸ªå­—ç¬¦
- è¿”å›ç±»å‹æ˜¯int æ˜¯ä¸ºäº†è¿”å›EOFï¼ˆ-1)

```c
#include <stdio.h>
int main()
{
    char ch;
    while((ch = getchar())!=EOF)
    {
        putchar(ch);
    }
    printf("EOF");
}
while(1)
{
    c=getchar();
    if(c==EOF)
    {
        break;
    }
    printf("%c",c);
}
```

å½“è¾“å…¥ctrl Zæ—¶ï¼Œæ‰ä¼šè¾“å‡ºEOFï¼Œctrl C å¼ºåˆ¶åœæ­¢

> **getchar()å‡½æ•°åªèƒ½ç”¨äºå•ä¸ªå­—ç¬¦çš„è¾“å…¥ï¼Œä¸€æ¬¡è¾“å…¥ä¸€ä¸ªå­—ç¬¦ã€‚ç¨‹åºçš„åŠŸèƒ½æ˜¯è¾“å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œæ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå›è½¦æ¢è¡Œï¼Œå†è¾“å…¥å¹¶æ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚è€Œè¿è¡Œæ—¶å­—ç¬¦æ˜¯è¿ç»­è¾“å…¥çš„ï¼Œè¿è¡Œç»“æœå´æ˜¯æ­£ç¡®çš„ï¼Œè¿™æ˜¯å› ä¸ºè¾“å…¥å­—ç¬¦åï¼Œå®ƒä»¬æš‚å­˜äºé”®ç›˜çš„ç¼“å†²åŒºä¸­ï¼Œç„¶åç”±getcharå‡½æ•°ä»é”®ç›˜ç¼“å†²åŒºä¸­ä¸€ä¸ªä¸€ä¸ªçš„å–å‡ºæ¥ã€‚**



> è¿›å…¥å¾ªç¯**å‰**ï¼Œè¾“å…¥ **getchar** () å°±æ˜¯ä¸ºäº†ä»é”®ç›˜ä¸Š**è¯»å–** nï¼ˆè¾“å…¥çš„æ•°å­—ï¼‰ åè¾“å…¥çš„**ç©ºæ ¼æˆ–æ¢è¡Œç¬¦**ï¼Œä½¿å¾—**åé¢å­—ç¬¦ä¸²çš„è¾“å…¥è¾“å‡ºä¸å—å½±å“**ã€‚

##### **gets å’Œ puts å‡½æ•°**

######  1.putså‡½æ•°

puts()å‡½æ•°ç”¨æ¥å‘æ ‡å‡†è¾“å‡ºè®¾å¤‡ï¼ˆå±å¹•ï¼‰å†™å­—ç¬¦ä¸²å¹¶æ¢è¡Œ("\n")

```c
è°ƒç”¨æ ¼å¼ï¼š
    puts(s);
```

å…¶ä¸­sä¸ºå­—ç¬¦ä¸²ï¼ˆå­—ç¬¦ä¸²çš„æ•°ç»„åæˆ–è€…å­—ç¬¦ä¸²æŒ‡é’ˆï¼‰

putsï¼ˆï¼‰å‡½æ•°çš„ä½œç”¨ä¸printf("%s\n",s)ç›¸åŒ

```c
char s[20],*f;
strcpy(s,"hello world");
f = "thank you";
puts(s);
puts(f);
```

è¡¥å……ï¼š

1. puts()å‡½æ•°åªèƒ½è¾“å‡ºå­—ç¬¦ä¸²ï¼Œä¸èƒ½è¾“å‡ºæ•°å€¼æˆ–è€…è¿›è¡Œæ ¼å¼è½¬æ¢
2. å¯ä»¥å°†å­—ç¬¦ä¸²ç›´æ¥å†™è¿›puts()å‡½æ•°ä¸­ã€‚puts("hello world");



###### 2.getsï¼ˆï¼‰å‡½æ•°

1. gets()å‡½æ•°ç”¨æ¥ä»æ ‡å‡†è¾“å…¥è®¾å¤‡ï¼ˆé”®ç›˜ï¼‰è¯»å–å­—ç¬¦ä¸²ç›´åˆ°å›è½¦ç»“æŸï¼Œä½†å›è½¦ç¬¦ä¸å±äºè¿™ä¸ªå­—ç¬¦ä¸²

2. ```c
   è°ƒç”¨æ ¼å¼ä¸ºï¼š
       gets(s);
   ```

   å…¶ä¸­sæ˜¯å­—ç¬¦ä¸²ï¼ˆå­—ç¬¦ä¸²æ•°ç»„åæˆ–è€…å­—ç¬¦ä¸²æ•°ç»„ï¼‰

   

3. getsï¼ˆï¼‰å’Œscanfï¼ˆ"%s",&sï¼‰ä¸ç›¸åŒ

   - ä½¿ç”¨scanf("%s",&s)æ—¶ï¼Œä¸€æ—¦è¾“å…¥ç©ºæ ¼å°±ä¼šè®¤ä¸ºè¾“å…¥å­—ç¬¦ç»“æŸï¼Œç©ºæ ¼åçš„å­—ç¬¦å°†ä½œä¸ºä¸‹ä¸€ä¸ªè¾“å…¥é¡¹å¤„ç†
   - gets()å‡½æ•°å°†æ¥æ”¶è¾“å…¥çš„æ•´ä¸ªå­—ç¬¦ä¸²ç›´åˆ°å›è½¦ä¸ºæ­¢

```c
char s[20];
char *f;
gets(s);         //è¾“å…¥å­—ç¬¦ä¸²çŸ¥é“å›è½¦ç»“æŸ
puts(s)          //è¾“å‡ºå­—ç¬¦ä¸²å¹¶å›è½¦æ¢è¡Œ
puts("how old are you?");
gets(f);  //æ­¤å¤„å­˜åœ¨é—®é¢˜
puts(f);
```





åº”ç”¨ä¸¾ä¾‹ï¼š

```c
#include <stdio.h>
int main()
{
    char str1[20];
    char str2[5][10];
    gets(str1);
    for(int i =0;i<5;i++)
    {
        gets(str2[i]);   //æ³¨æ„ä¸€ä¸‹æ­¤å¤„çš„å­—ç¬¦ä¸²æ•°ç»„
    }
    puts(str1);
    for(int i = 0;i<5;i++)
    {
        puts(str2[i]);
    }
}
```



#### 10.4.2å¸¸ç”¨å‡½æ•°ï¼ˆ#include<string.h>ï¼‰

##### 10.4.2.1strlen,æµ‹é•¿åº¦

- strlen(const char *s); const ï¼šä¸ä¼šå»ä¿®æ”¹è¾“å…¥çš„å­—ç¬¦ä¸²
- **è¿”å›sçš„å­—ç¬¦ä¸²é•¿åº¦ï¼ˆä¸åŒ…æ‹¬ç»“å°¾çš„0ï¼‰**

``` c
#include <stdio.h>
#include <string.h>
int main()
{
    char line[]="hello";
    printf("strlen=%lu\n",strlen(line)); //æ³¨æ„ç”¨%lu unsigned long   
    printf("sizeof=%lu\n",sizeof(line)); 
}
```

strlen = 5; sizeof = 6(åŒ…æ‹¬å­—ç¬¦ä¸²ç»“å°¾çš„'\0')

strlenå‡½æ•°çš„ä»£ç å¹³æ›¿

```c
int mylen(const char* s)
{
    int cnt = 0;
    int idx = 0;
    while(s[idx] != '\0')
    {
        idx++;
        cnt++;
    }
    return cnt;
}
or
    while(*s!=0)
    {
        cnt++;
        p++;
    }
    return cnt;
```

##### 10.4.2.2strcmp æ¯”è¾ƒå­—ç¬¦ä¸²çš„å¤§å°

- int strcmp(const char*s1,const char *s2)

- > **æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°(æ¯”è¾ƒçš„æ˜¯å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªä¸åŒå­—ç¬¦çš„å¤§å°)**

  - 0ï¼šs1==s2
  - 1ï¼šs1>s2
  - -1ï¼šs1<s2

```c
#include <stdio.h>
#include <string.h>
int main()
{
    char s1[] = "abc";
    char s2[] = "Abc";
    char s3[] = "abc ";
    printf("%d\n",strcmp(s1,s2)); //32
    printf("%d\n",strcmp(s1,s3)); //-32 ç©ºæ ¼çš„ASCLLç ä¸º32
    printf("%d\n",'a'-'A');       //32
}
```

> **ä¸èƒ½ç›´æ¥ifï¼ˆs1==s2ï¼‰ï¼Œæ­¤æ—¶çš„s1ï¼Œs2éƒ½æ˜¯åœ°å€ï¼Œå¿…ç„¶ä¸ç›¸ç­‰**

```c
int mycmp(const char*s1,const char*s2)
{
    int index = 0;
    while(1)
    {
        if(s1[index] != s2[index])
        {
            break;
        }
        else if(s1[index] != '\0')
        {
            index++;
        }
    }
    return s1[index]-s2[index];
}

or
int mycmp(const char*s1,const char*s2)
{
    int index=0;
    while(s1[index]==s2[index]&&s1[index]!="\0")
    {
        index++;
    }
    return s1[index]-s2[index];
}
or
int mycmp(const char *s1,const char *s2)
{
    while(*s1 == *s2 && *s1!='\0')
    {
        s1++;
        s2++;
    }
    return *s1-*s2;
}

int mycmp(char *s1,char *s2)
{
	while(*s1 == *s2 && *s1 != '\0')
	{
		s1++;
		s2++;
	}
	if(*s1-*s2)
	{
		return 1;
	}
	else if(*s1-*s2 <0)
	{
		return -1;
	}
	else
	{
		return 0;
	}
}
```

> **æ­¤å¤„çš„å‡½æ•°ï¼Œæ¯”è¾ƒä¹Ÿæ˜¯ç¬¬ä¸€ä¸ªä¸åŒå­—ç¬¦çš„å¤§å°çš„å…³ç³»ï¼Œåªæ˜¯è¿”å›å€¼ä¸åŒï¼Œæ­¤å¤„çš„è¿”å›å€¼æ˜¯ï¼Œå­—ç¬¦çš„ASCIIå€¼ä¹‹å·®**

##### 10.4.2.3 strcpy å‡½æ•°

- char *strcpy(char *restrict dst,const char *retrict src)
  - dstè¡¨ç¤ºdestination ç›®çš„
  - srcè¡¨ç¤ºsource         æº
  - ç›®çš„åœ¨å‰ï¼Œæºåœ¨å
- æŠŠsrcçš„å­—ç¬¦ä¸²æ‹·è´åˆ°dst
  - restrict è¡¨æ˜srcå’Œdstä¸é‡å 
- è¿”å›dstï¼Œå¯åç»­ä½¿ç”¨
  - printf("%lu\n",strlen(strcpy(dst,src)));

```c
char *dst = (char*)malloc(strlen(src)+1);
strcpy(dst,src);
```

> **strlen(src)ä¸åŒ…å«å­—ç¬¦ä¸²ç»“å°¾çš„'\0',ä»è€Œéœ€è¦åŠ 1**
>
> **mallocçš„è¿”å›ç±»å‹æ˜¯void*ï¼Œéœ€è¦è½¬åŒ–ä¸ºchar *.**

```c
char* mycpy(char *dst,const char* src)
{
    int idx = 0;
    while(src[idx] != '\0')
    {
        dst[idx]=src[idx];
        idx++;
    }
    dst[idx]='\0';  //è¡¥å……ç»“å°¾çš„0
    return dst;     //è¿”å›çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ˆchar*ï¼‰
}

char* mycpy(char *dst,const char*src)
{
    char*ret = dst;
    while(*src != '\0')
    {
        *dst = *src;
        dst++;
        src++;
    }
    *dst='\0';
    return ret;   //dstçš„åœ°å€å‘ç”Ÿäº†æ”¹å˜
}
```

##### 10.4.2.5 strcatå‡½æ•°

- char*strcat(char *restrict s1,const char *restrict s2)
- æŠŠs2æ‹·è´åˆ°s1çš„åé¢ï¼Œæ¥æˆä¸€ä¸ªé•¿çš„å­—ç¬¦ä¸²
- è¿”å›s1
- ä¸”s1è¦æ±‚å…·æœ‰è¶³å¤Ÿçš„ç©ºé—´

```c
char* mycat(char * s1,const char* s2)
{
    int index=0;
    int len = strlen(s1);
    while(s2[index]!='\0')
    {
        s1[len+index]=s2[index];
        index++;
    }
    s1[len+index]='\0';
    return s1;
}
```



> **ä¸ºäº†é˜²æ­¢ç»™å‡ºçš„ç©ºé—´ä¸è¶³ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å®‰å…¨ç‰ˆæœ¬**
>
> **ç”±nåŠ ä»¥é™åˆ¶**
>
> **char* strncpy(char *restrict dst,const char *restrict src,size_t n);   å°†å‰nä¸ªè¿›è¡Œæ‹·è´**
>
> **char* strncat(char *restrict s1,const char *restrict s2,size_t n);   å°†å‰nä¸ªè¿›è¡Œè¿æ¥**
>
> **n=sizeof(s1)-strlen(s1)-1;**
>
> **int strncmp(const char*s1,const char *s2,size_t n);  å¯¹å‰nä¸ªå­—ç¬¦è¿›è¡Œæ¯”è¾ƒ**

##### 10.4.2.5 strchrå‡½æ•°ï¼ˆå­—ç¬¦ä¸²é‡Œæ‰¾å­—ç¬¦ï¼‰

- char *strchr(const char *s,int c);ä»å·¦å¾€å³å¯»æ‰¾
- char *strrchr(const char *s,int c);ä»å³å¾€å·¦å¯»æ‰¾
- è¿”å›NULLè¡¨ç¤ºæ²¡æœ‰æ‰¾åˆ°

```c
#include<stdio.h>
#include <string.h>
#include <stdlib.h>
int main()
{
    char s[] = "hello";
    char*p = strchr(s,'l');
    printf("%s\n",p);       //llo
    char*t = strchr(p+1,'l');
    printf("%s\n",t);       //lo,å¯»æ‰¾ç¬¬äºŒä¸ªå­—ç¬¦
    char*m = (char*)malloc(strlen(p)+1);
    strcpy(m,p);
    printf("%s\n",m);       //llo,å°†pæ‹·è´
    free(m);
}
```

```c
#include<stdio.h>
#include <string.h>
#include <stdlib.h>
int main()
{
    char s[] = "hello";
    char*p = strchr(s,'l');
    char c = *p;
    printf("%s\n",p);   //llo
    printf("%c\n",c);   //l
    *p='\0';
    char *t=(char*)malloc(strlen(s)+1);
    strcpy(t,s);        ////å†å¤åˆ¶çš„æ—¶å€™ï¼Œé‡åˆ°*p = '\0'å°±åœæ­¢äº†
    printf("%s\n",t);     //he,è¾“å‡ºç›®æ ‡å­—ç¬¦å‰çš„å­—ç¬¦ä¸²
    free(t);
    printf("%s\n",s);     //he
    *p='l';
    printf("%s\n",s);     //hello
}
```

è¡¥å……ï¼š

- char *strstr(const char *s1,const char *s2)
  - åœ¨å­—ç¬¦ä¸²ä¸­å¯»æ‰¾å­—ç¬¦ä¸²
- char *strcasestr(const char *s1,const char *s2)
  - ä¸åŒºåˆ†å¤§å°å†™å¯»æ‰¾å­—ç¬¦ä¸²





# åä¸€.ç»“æ„ç±»å‹

### 11.1æšä¸¾

- æšä¸¾æ˜¯ä¸€ç§ç”¨æˆ·å®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œå®ƒç”¨å…³é”®å­—==enum==ä»¥å¦‚ä¸‹è¯­å¥å£°æ˜ï¼š
  - enumæšä¸¾ç±»å‹çš„åå­—ï¼ˆåå­—0ï¼Œ.....åå­—nï¼‰
  - enum colors{red,yelllow,green};
- å½“éœ€è¦ä¸€äº›å¯ä»¥æ’åˆ—èµ·æ¥çš„å¸¸é‡å€¼æ—¶ï¼Œå®šä¹‰æšä¸¾çš„æ„ä¹‰å°±cæ˜¯ç»™è¿™äº›å¸¸é‡åå­—ã€‚

è‡ªåŠ¨è®¡æ•°çš„æšä¸¾

```c
#include <stdio.h>
enum color(red,yellow,green,numcolor);   //numcolorçš„å¤§å°åˆšå¥½å°±æ˜¯æšä¸¾çš„ä¸ªæ•°
int main()
{
    int color = -1;
    char *colornames[numcolor] = {"red","yellow","green",};
    char *colorname = NULL;
    printf("your favourite color number:");
    scanf("%d",&color);
    if(color >= 0 && color <numcolor)
    {
        colorname = colornames[color];
    }
    else
    {
        colorname = "unknown";
    }
    printf("%s",colorname);
    
}
```

- å£°æ˜æšä¸¾é‡çš„æ—¶å€™å¯ä»¥æŒ‡å®šå€¼
  - enum color{red=1,yellow,green=5};

### 11.2ç»“æ„ç±»å‹

#### 11.2.1ç»“æ„ç±»å‹

![image-20221202232847226](C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/image-20221202232847226.png)

æ‹¬å·å†…çš„xçš„ä¸ºæ•´å‹å˜é‡ï¼Œæ‹¬å·å¤–çš„xä¸ºç»“æ„å˜é‡

```c
#include <stdio.h>
struct date
{
    int year;
    int month;
    int day;
};  //æ­¤å¤„éœ€è¦æ³¨æ„ï¼Œè¦æœ‰ï¼›
int main()
{
    struct date today;  //ç»“æ„å˜é‡today
    today.year = 2022;
    today.month = 07;
    today.day = 31;
    printf("today's date is %2d-%2d-%2d.\n",today.year,today.month,today.day);  //2022-7-31
}
```

1. å£°æ˜ç»“æ„ä½“çš„å½¢å¼

```c
struct point
{
    int x;
    int y;
};
struct point p1,p2; //p1å’Œp2 éƒ½æ˜¯ç»“æ„ï¼Œé‡Œé¢æœ‰xï¼Œyçš„å€¼

æˆ–è€…
struct point
{
    int x;
    int y;
}p1,p2;
    ``````

```c
struct   //ç¼ºå°‘äº†point
{                  
    int x;
    int y;
}p1,p2;
//p1,p2éƒ½æ˜¯æ— åç»“æ„ï¼Œé‡Œé¢æœ‰xï¼Œy
```





```
> å®šä¹‰ç»“æ„åï¼Œéœ€è¦å†æœ€åçš„{}ååŠ ä¸Š==åˆ†å·==ï¼›

2. ç»“æ„æˆå‘˜

- ç»“æ„ä½“å˜é‡ç”¨  .è¿ç®—ç¬¦  å’Œåå­—è®¿é—®å…¶æˆå‘˜

  - egï¼štoday.day    today.year

- ç»™ç»“æ„ä½“å˜é‡èµ‹åˆå€¼ï¼š

  - struct date today = {2022,7,31};

  - struct date today={2022,.day=31,.month=7}

  - å¦‚æœæŸä¸€ä½ç½®ç©ºç¼ºï¼Œåˆ™è‡ªåŠ¨è¡¥0ï¼›

  - > ```c
    > struct date tomorrow;
    > tomorrow = {2022,8,1};  //è¿™æ˜¯é”™è¯¯çš„
    > //æ­£ç¡®åšæ³•ï¼š
    > tomorrow = (struct date){2022,8,1};
    > ```
    >è¿™ä¸æ•°ç»„ç±»ä¼¼ï¼Œ
    int a[5] = {1,2,3,4,5}; æ­£ç¡®åšæ³•
    int a[5];
    a[5] = {0,2,3,4,5};è¿™æ˜¯é”™è¯¯çš„

3. ç»“æ„è¿ç®—

- å¯¹äºæ•´ä¸ªç»“æ„ï¼Œå¯ä»¥åšèµ‹å€¼ã€å–åœ°å€ï¼Œä¹Ÿå¯ä»¥ä¼ é€’ç»™å‡½æ•°å‚æ•°
- èµ‹å€¼ï¼š
  - p1 = (struct point){2,4}; //ç›¸å½“äºp1.x=2;p1.y=4;
  - p1 = p2;   //ç›¸å½“äºp1.x = p2.x ;p1.y = p2.y;(æ•°ç»„ä¸èƒ½å®Œæˆè¯¥æ“ä½œ)

4. ç»“æ„æŒ‡é’ˆ

- å’Œæ•°ç»„ä¸ä¸€æ ·ï¼Œç»“æ„å˜é‡çš„åå­—å¹¶ä¸æ˜¯ç»“æ„å˜é‡çš„åœ°å€ï¼Œå¿…é¡»ä½¿ç”¨&è¿ç®—ç¬¦
- struct date *pDate = &today;

5. ç»“æ„çš„sizeof

- ```c
  struct point{
      int a;
      int b;
      int c;
  }x;
  printf("%lu\n",sizeof(x));//12
  struct point{
      int a;
      char b;
      int c;
  }y;
  printf("%lu\n",sizeof(y));//12 ä¼šä½¿æ•´æ•°ç±»å‹å‡ºç°åœ¨å­—èŠ‚çš„æ•´è¾¹ç•Œä¸Š
  struct point{
      int a;
      int b;
      char c;
  }z;
  printf("%lu\n",sizeof(z));//12
```

  ## æ˜“é”™æ€»ç»“

> 1. **ç»“æ„ä½“æˆå‘˜çš„ç±»å‹å¹¶ä¸ä¸€å®šæ˜¯åŸºæœ¬æ•°æ®ç±»å‹**
>
> â€‹      **æ—¢å¯ä»¥æ˜¯æŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°ç»„ï¼Œè¿˜å¯ä»¥æ˜¯ç»“æ„ä½“**
>
> 2. **ç»“æ„ä½“æ˜¯ä¸€ç§è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œæ˜¯åˆ›å»ºå˜é‡çš„æ¨¡æ¿ï¼Œä¸å ç”¨å†…å­˜ç©ºé—´ï¼›ç»“æ„ä½“å˜é‡æ‰åŒ…å«äº†å®å®åœ¨åœ¨çš„æ•°æ®ï¼Œéœ€è¦å†…å­˜ç©ºé—´æ¥å­˜å‚¨ã€‚**

#### **11.2.2 ç»“æ„ä¸å‡½æ•°**

- æ•´ä¸ªç»“æ„å¯ä»¥ä½œä¸ºå‚æ•°çš„å€¼ä¼ å…¥å‡½æ•°
- æ˜¯åœ¨å‡½æ•°å†…æ–°å»ºä¸€ä¸ªç»“æ„å˜é‡ï¼Œå¹¶å¤åˆ¶è°ƒç”¨å‚æ•°ç»“æ„çš„å€¼
- è¿˜å¯ä»¥è¿”å›ä¸€ä¸ªç»“æ„

##### 11.2.2.1è¾“å…¥ç»“æ„(è¿”å›ä¸€ä¸ªç»“æ„ï¼Œå†è¿›è¡Œèµ‹å€¼)

```c
#include <stdio.h>
struct point{
    int x;
    int y;
};                  //å£°æ˜å‡½æ•°ç»“æ„
struct point getstruct(void)  //è¿”å›ç±»å‹ä¸ºstruct point
{
    struct point m;
    scanf("%d",&m.x);
    scanf("%d",&m.y);
    printf("%d %d\n",m.x,m.y);
    return m;
}
int main()
{
    struct point p = {0,0}; //å®šä¹‰ä¸€ä¸ªç»“æ„å˜é‡
    p = gatstruct();        //ç»“æ„ä¹‹é—´çš„èµ‹å€¼
    printf("%d %d",p.x,p.y);
}
```

##### 11.2.2.2æŒ‡å‘ç»“æ„çš„æŒ‡é’ˆ

```c
struct date {
    int year;
    int month;
    int day;
}myday;
struct date *p = &myday;
(*p).month = 12;   //å…ˆè¿›è¡Œ*p,å˜ä¸ºç»“æ„
p->month = 12;
(*p).month++;
p->month++;
```

> **ç”¨ ->è¡¨ç¤ºæŒ‡é’ˆæ‰€æŒ‡çš„ç»“æ„å˜é‡ä¸­çš„æˆå‘˜**

è¾“å…¥ç»“æ„æŒ‡é’ˆç‰ˆ

```c
struct point* inputpoint(struct point *p)
{
    scanf("%d",&(p->x));//&(p->x)è¡¨ç¤ºæŒ‡é’ˆæ‰€æŒ‡çš„ç»“æ„å˜é‡çš„æˆå‘˜çš„åœ°å€
    scanf("%d",&(p->y));
    return p;
}
void print(const struct point *p)
{
    printf("%d %d",p->x,p->y);
}
int main()
{
    struct point m = {0,0};
    inputpoint(&m);
    printf("%d %d",m.x,m.y);
    struct point n = *inputpoint(&m);
    printf("%d %d",n.x,n.y);
    print(inputpoint(&m));
    *inputpoint(&m)=(struct point){12,98};
    printf("%d %d",m.x,m.y);    //12,98
}
```

### 11.2.3ç»“æ„çš„ç»“æ„

#### 11.2.3.1ç»“æ„æ•°ç»„

egï¼šstruct date dates[]={{4,5,2021},{4,5,2022}};

```c
#include <stdio.h>
struct time{
    int hour;
    int minute;
    int second;
};
struct time timeupdate(struct time now);
int main()
{
    struct time testtime[5]={{11,59,59},{12,0,0},{1,29,59},{23,59,59},{19,12,17}};
    int i;
    for(i=0;i<5;i++)
    {
        printf("time is %d:%d:%d\n",testtime[i].hour,testtime[i].minute,testtime[i].second);
        testtime[i] =  timeupdate(testtime[i]);
        printf("one second later is %d:%d:%d\n",testtime[i].hour,testtime[i].minute,testtime[i].second);
    }
}
struct time timeupdate(struct time now)
{
    ++now.second;
    if(now.second==60)
    {
        now.second=0;
        now.minute++;
        if(now.minute==60)
        {
            now.minute = 0;
            now.hour++;
            if(now.hour==24)
            {
                now.hour=0;
            }
        }
    }
    return  now;   
}
```

- ä»è€Œæœ‰ç»“æ„ä½“å˜é‡å¯ä»¥ä½œä¸ºæ•°ç»„å…ƒç´ ä½¿ç”¨

#### 11.2.3.2ç»“æ„ä¸­çš„ç»“æ„

egï¼š

```c
struct dateandtime{
    struct date sdate;
    struct time stime;
};
```

```c
struct point{
    int x;
    int y;
};
struct rectangle {
    struct point p1;
    struct point p2;
}
int main()
{
    struct rectangle r;  //å­˜åœ¨r.p1.x   ,     r.p1.y ,  r.p2.x  ,  r.p2.y
}
```

å¦‚æœæœ‰å˜é‡å®šä¹‰ï¼š

struct rectangle r,*rp;  rp=&r;

é‚£ä¹ˆä»¥ä¸‹å››ç§å½¢å¼ç­‰ä»·ï¼š

- r.p1.x
- rp->p1.x
- (r.p1).x
- (rp->p1).x

> **ä½†æ˜¯æ²¡æœ‰rp->p1->x**,**å› ä¸ºp1ä¸æ˜¯æŒ‡é’ˆ**ï¼›

<img src="C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/image-20221202231458613.png" alt="image-20221202231458613" style="zoom:200%;" />

![image-20221202232819768](C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/image-20221202232819768.png)

### 11.3typedef

```c
typedef struct{
    int year;
    int month;
    int day;
}date;
```

æ„ä¸ºç”¨dateå»æ›¿æ¢typedefåçš„ä»£ç 

```c
typedef int color;
color a; //ç›¸å½“äºint a;
```

```c
typedef struct{
    int len;
    char s[];
}string;
printf("%lu\n",sizeof(string));
string *p=(string*)malloc(sizeof(int)+20); //åŠ¨æ€çš„ç¡®å®šçš„
printf("%p\n",p);
printf("%p\n",p->s);
free(p);
```

# 





# åäºŒ.é“¾è¡¨

```c
#include <stdio.h>
#include <stdlib.h>

typedef struct _node{
    int value;
    struct _node *next;
}Node;

int main()
{
    Node *head = NULL;
    while(1)
    {
        int x;
        scanf("%d",&x);
        if(x==-1) break;
        Node *p=(Node*)malloc(sizeof(Node));
        p->value = x;
        p->next = head;
        head = p;
    }
    for(Node *p=head;p;p=p->next)
    {
        printf("%d\n",p->value);
    }
    
}
```

![image-20221203122317140](C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/image-20221203122317140.png)

### 12.1å¯å˜æ•°ç»„

### 12.2é“¾è¡¨

#### 12.2.1åŸºç¡€æ¦‚å¿µ

- é“¾è¡¨éƒ½æœ‰ä¸€ä¸ªå¤´æŒ‡é’ˆï¼Œä¸€èˆ¬ä»¥headæ¥è¡¨ç¤ºï¼Œå­˜æ”¾çš„æ˜¯ä¸€ä¸ªåœ°å€
- é¦–ç»“ç‚¹ï¼šå­˜æ”¾ç¬¬ä¸€ä¸ªæœ‰æ•ˆæ•°æ®çš„ç»“ç‚¹
- å¤´ç»“ç‚¹ï¼šåœ¨å•é“¾è¡¨çš„ç¬¬ä¸€ä¸ªç»“ç‚¹ä¹‹å‰ï¼Œè®¾æœ‰ä¸€ä¸ªç»“ç‚¹ï¼Œå®ƒæ²¡æœ‰å‰é©±ï¼Œç§°ä¹‹ä¸ºå¤´ç»“ç‚¹ã€‚å¤´ç»“ç‚¹çš„æ•°æ®åŸŸå¯ä»¥ä¸å­˜å‚¨ä»»ä½•ä¿¡æ¯ï¼ŒæŒ‡é’ˆåŸŸæŒ‡å‘ç¬¬ä¸€ä¸ªç»“ç‚¹ï¼ˆé¦–ç»“ç‚¹ï¼‰çš„åœ°å€ã€‚
- å¤´æŒ‡é’ˆï¼šæŒ‡å‘å¤´ç»“ç‚¹çš„æŒ‡é’ˆ
- å°¾ç»“ç‚¹ï¼šå­˜æ”¾æœ€åä¸€ä¸ªæœ‰æ•ˆæ•°æ®çš„ç»“ç‚¹
- å°¾æŒ‡é’ˆï¼šæŒ‡å‘å°¾ç»“ç‚¹çš„æŒ‡é’ˆ
- é“¾è¡¨å°±å¦‚åŒè½¦é“¾å­ä¸€æ ·ï¼ŒheadæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ (å¤´ç»“ç‚¹)ï¼šç¬¬ä¸€ä¸ªå…ƒç´ åˆæŒ‡å‘ç¬¬äºŒä¸ªå…ƒç´ ï¼›â€¦â€¦ï¼Œç›´åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼Œè¯¥å…ƒç´ ä¸å†æŒ‡å‘å…¶å®ƒå…ƒç´ ï¼Œå®ƒç§°ä¸ºâ€œè¡¨å°¾â€ï¼Œå®ƒçš„åœ°å€éƒ¨åˆ†æ”¾ä¸€ä¸ªâ€œNULLâ€ï¼ˆè¡¨ç¤ºâ€œç©ºåœ°å€â€ï¼‰ï¼Œé“¾è¡¨åˆ°æ­¤ç»“æŸã€‚

![img](C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/91a970fcc2278f2938921691abea808b.png)

![img](C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAUGFyYW5vaWTimIY=,size_20,color_FFFFFF,t_70,g_se,x_16.png)



#### 12.2.2å®šä¹‰ä¸€ä¸ªç»“æ„ä½“

```c
tpyedef struct point{
    int value;           //æ•°æ®åŸŸ
    struct point *next;//å®šä¹‰æŒ‡é’ˆåŸŸ
}Node;
```

> **æ­¤æ—¶Nodeè¡¨ç¤ºçš„å°±æ˜¯ struct point ç»“æ„ä½“,ç»“æ„ä½“ä¸­åŒ…å«ä¸€ä¸ªvalueå€¼ï¼Œå’Œä¸€ä¸ªæŒ‡é’ˆ==ï¼ˆæŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼‰==**

#### 12.2.3åˆ›å»ºä¸€ä¸ªé“¾è¡¨

1. å¤´æŒ‡é’ˆheadçš„dataéšæœº
2. head->next æ˜¯é¦–ä¸ªæœ‰æ•ˆæ•°æ®ç»“ç‚¹ï¼ˆï¼‰
3. head->value æ˜¯éšæœºæ•°

```c
Node *create(int n)//nä¸ºé“¾è¡¨ç»“ç‚¹ä¸ªæ•°
{
    Node *head, *node, *end; //å®šä¹‰å¤´ç»“ç‚¹ï¼Œæ™®é€šç»“ç‚¹ï¼Œå°¾ç»“ç‚¹ï¼ˆå‡ä¸ºç»“æ„æŒ‡é’ˆï¼‰
    head = (Node *)malloc(sizeof(Node));//åˆ†é…åœ°å€
    end = head;//è‹¥ä¸ºç©ºé“¾è¡¨ï¼Œåˆ™å¤´å°¾ç»“ç‚¹éƒ½ä¸€æ ·
    for(int i=0;i<n;i++)
    {
        node = (Node *)malloc(sizeof(Node));
        scanf("%d",&(node->value));
        node->next = NULL;
        end->next = node;
        end = node;
    }
    end->next = NULL; //è¿™å¥è¯å¯ä»¥æ²¡æœ‰
    return head; 
}
```

2. å¤´æŒ‡é’ˆheadå°±æ˜¯é¦–ä¸ªæœ‰æ•ˆæ•°æ®ç»“ç‚¹

```c
#include <stdio.h>
#include <stdlib.h>
struct node {
	int value;
	struct node *next;
};
int main() {
	struct node *head,*p,*q;  //pæ˜¯ä¸´æ—¶æŒ‡é’ˆï¼ŒqæŒ‡å‘æœ€åä¸€ä¸ªç»“ç‚¹
	int i,x;
	head=NULL;
	while(1) {
		scanf("%d",&x);
		if(x==-1) {
			break;
		} 
        else {
            p=(struct node *)malloc(sizeof(struct node));  //æ„å»ºä¸€ä¸ªç»“ç‚¹
			p->value=x;
			p->next=NULL;
			if(head==NULL){
				head = p;      //æ­¤æ—¶æœ€åä¸€ä¸ªæŒ‡é’ˆä¹Ÿå°±æ˜¯headï¼Œheadå­˜æ”¾ç¬¬ä¸€ä¸ªæœ‰æ•ˆæ•°æ®
			}
			else{
				q->next=p;     //
			}
			q=p;               //qæŒ‡å‘p
		}
	}
	for(p=head;p;p=p->next)
	{
		printf("%d\n",p->value);
	}
}
```

3. é€†åºé“¾è¡¨çš„åˆ›å»º

```c
#include <stdio.h>
#include <stdlib.h>
typedef struct point
{
    int value;
    struct point *next;
}Node;
void print(Node *head)
{
    for(Node*p = head; p ; p = p->next)
    {
        printf("%d ",p->value);
    }
    printf("\n");
}
int main()
{
    Node *head = NULL;
    while(1)
    {
        int x;
        scanf("%d",&x);
        if(x==-1)break;
        //create a node
        Node *p = (Node*)malloc(sizeof(Node));
        p->value = x;
        p->next = NULL;
        // insert at head
        p->next = head;     //é€†åºçš„å…³é”®åœ¨äºå¤´æ’ï¼Œåœ¨headä¹‹å‰æ’å…¥ä¸€ä¸ªç»“ç‚¹ï¼Œå†å°†headå‰ç§»
        head = p;
        //head = insert_node(head,p);
    }
    print(head);
}
```





#### 12.2.4 ä¿®æ”¹é“¾è¡¨èŠ‚ç‚¹å€¼

```c
void change(Node *list,int n)//nä¸ºè¦ä¿®æ”¹çš„ç»“ç‚¹
{
    Node *t = list;     //ç»“æ„æŒ‡é’ˆèµ‹å€¼
    int i=0;
    for(i = 0;i < n&& t!=NULL;i++)
    {
        t = t->next;
    }
    if(t!=NULL)
    {
        scanf("%d",&(t->value));
    }
    else
    {
        printf("not exist");
    }
}
```

#### 12.2.5åˆ é™¤é“¾è¡¨ç»“ç‚¹

![img](C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/70.png)

åˆ é™¤é“¾è¡¨çš„å…ƒç´ ä¹Ÿå°±æ˜¯æŠŠå‰èŠ‚ç‚¹çš„æŒ‡é’ˆåŸŸè¶Šè¿‡è¦åˆ é™¤çš„èŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸‹ä¸ªèŠ‚ç‚¹ã€‚å³ï¼šp->next = q->next;ç„¶åæ”¾å‡ºqèŠ‚ç‚¹çš„ç©ºé—´ï¼Œå³free(q);

```c
void delete(Node *list,int n)
{
    Node *p = list;
    Node *q;
    int i = 0;
    while(i < n && p != NULL) //ä¸€æ˜¯åˆ¤æ–­æ˜¯å¦ä¸ºç©ºé“¾è¡¨ï¼ŒäºŒæ˜¯åˆ¤æ–­ç»™çš„næ˜¯å¦å¤§äºé“¾è¡¨çš„ç»“ç‚¹æ•°    
    {
        q = p;
        p = p->next;
        i++;
    }
    if(t!=NULL)   
    {
        q->next = p->next;
        free(p);
    }
    else
    {
        printf("not exist");
    }
}
//æŒ‰ç…§ç»“ç‚¹çš„å€¼è¿›è¡Œå¯»æ‰¾
for(Node *p = head,*q=NULL; p ; q = p, p = p->next)
{
    if(p->value==x)
    {
        if(q!=NULL) 
        {
            q->next=p->next;
        }
        else    //è€ƒè™‘ç¬¬ä¸€ä¸ªç»“ç‚¹çš„ç‰¹æ®Šæƒ…å†µ
        {
            head = p->next;
        }
        free(p);
    }
}
```

#### 12.2.6æ’å…¥é“¾è¡¨ç»“ç‚¹

![img](C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDY5MzA3MQ==,size_16,color_FFFFFF,t_70.png)

![img](C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/70-16700592281415.png)

æ’å…¥ç»“ç‚¹å°±æ˜¯ç”¨æ’å…¥å‰èŠ‚ç»“ç‚¹çš„æŒ‡é’ˆåŸŸé“¾æ¥ä¸Šæ’å…¥èŠ‚ç»“ç‚¹çš„æ•°æ®åŸŸï¼Œå†æŠŠæ’å…¥ç»“ç‚¹çš„æŒ‡é’ˆåŸŸé“¾æ¥ä¸Šæ’å…¥åç»“ç‚¹çš„æ•°æ®åŸŸã€‚æ ¹æ®å›¾ï¼Œæ’å…¥ç»“ç‚¹ä¹Ÿå°±æ˜¯ï¼še->next = head->next; head->next = e;

å¢åŠ é“¾è¡¨èŠ‚ç‚¹ç”¨åˆ°äº†ä¸¤ä¸ªç»“æ„ä½“æŒ‡é’ˆå’Œä¸€ä¸ªintæ•°æ®ã€‚

> **å°†ç¬¬ä¸€ä¸ªç»“ç‚¹ç¼–å·ä¸º0æƒ…å†µï¼Œæ’å…¥ç»“ç‚¹åœ¨ç¼–å·ç»“ç‚¹ä¹‹å**

```c
void insert(Node *list,int n)   
{
    Node *p=list;
    Node *q;
    int i = 0;
    if(p == NULL && n == 0) //ç‰¹åˆ¤
    {
        q = (Node*)malloc(sizeof(Node));
        scanf("%d",&(q->value));
        p = q;
    }
    while(i < n  && p != NULL)
    {
        p = p->next;
        i++;
    }
    if(p != NULL)
    {
        q = (Node*)malloc(sizeof(Node));
        scanf("%d",&(q->value));
        q->next=p->next;
        p->next = q;
    }
    else
    {
        printf("not exist");
    }
}
```

è¾¹ç•Œæ¡ä»¶,å¤´æ’å…¥æ³•**==(head ä¸å«æœ‰æ•ˆæ•°æ®ï¼Œæ’å…¥ç»“ç‚¹åœ¨å¤´ç»“ç‚¹ä¹‹å)==**

```c
Node *head = (Node*)malloc(sizeof(Node));
head->next = NULL;
Node *p = (Node *)malloc(sizeof(Node));
p->value = x;
p->next = head->next;
head->next = p;
```

æ’å…¥ç»“ç‚¹åœ¨==ç¬¬idxä¸ªç»“ç‚¹==ä¹‹å‰æƒ…å†µ  headç»“ç‚¹æ˜¯ç¬¬ä¸€ä¸ªç»“ç‚¹ï¼ˆï¼‰

```c
void insert_at(List*plist,int idx,int x)
{
    Node *n = create(x);
    Node *p = NULL;
    if(idx> 0)   //è€ƒè™‘idxä¸º0æƒ…å†µï¼Œ
    {
        for(p=plist->head;p;p=p->next)
        {
            if(idx == 1)break;
            idx--;
        }
    }
    if(p!=NULL)  //pæ˜¯è¦æ’å…¥çš„ç»“ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹
    {
        n->next = p->next;
        p->next = n;        //é¡ºåºu
    }
    if(p == plist->head)  //è€ƒè™‘ç‰¹æ®Šæƒ…å†µï¼Œè¾¹ç•Œæ¡ä»¶ä¸‹ï¼Œnå˜ä¸ºhead
    {
        n->next = plist->head;
        plist->head = n;
    }
}
```





#### 12.2.7è¾“å‡ºé“¾è¡¨

```c
int len = 0;
for(Node *p = head;p;p = p->next)
{
    printf("%d",p->value);
    len++;  //è®¡ç®—é“¾è¡¨çš„é•¿åº¦
}


while(t != NULL)  
{
    printf("%d ",t->value);
    t=t->next;
}
```



#### 12.2.8 é“¾è¡¨çš„æœç´¢

#### 12.2.9é“¾è¡¨çš„æ¸…ç©º

```c
void list_remove_all(List *list)
{
	for(Node *p = list->head;p;)
	{
	    Node *q = p->next; //å…ˆä¿ç•™å½“å‰ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œé˜²æ­¢freeåæ— æ³•è¡”æ¥
	    free(p);
	    p = q;
	}
	list->head = NULL;//è¿™å¥è¯ä¸å¯ç¼ºå°‘ï¼Œä½¿å¾—printfè¾“å‡ºæ—¶ï¼Œç›´æ¥å› ä¸ºhead==NULLï¼Œè·³å‡ºå¾ªç¯
}
```

#### 12.2.10 é“¾è¡¨çš„åˆå¹¶

```c
typedef struct point
{
    int value;
    struct point *next;
}Node;


List merge(List L1,List L2)
{
    Node *head = (Node* )malloc(sizeof(Node));
    Node *p = head;
    Node *p1 = L1;
    Node *p2 = L2;
    while(p1 != NULL && p2 != NULL)
    {
        if(p1 -> value < p2 -> value)
        {
            p -> next = p1;
            p1 = p1 -> next;
            p = p - next ;
        }
        else
        {
            p -> next = p2;
            p2 = p2 -> next;
            p = p - next ;
        }
    }
    for(;p1;p1 = p1 -> next)
    {
        p -> next = p1;
        p  = p -> next;
    }
    for(;p2;p2 = p2 -> next)
    {
        p -> next = p2;
        p = p -> next;
    }
    p -> next = NULL;
    return head;
}
```

#### ==12.2.11 é“¾è¡¨çš„é€†è½¬==

å°†ç»™å®šå•å‘é“¾è¡¨é€†ç½®ï¼Œå³è¡¨å¤´ç½®ä¸ºè¡¨å°¾ï¼Œè¡¨å°¾ç½®ä¸ºè¡¨å¤´

æ–¹æ³•ä¸€ï¼š å¸¦å¤´æŒ‡é’ˆæ³•çš„å¤´æ’æ³•

```c
struct Node* reserve(struct Node *head)
{
    struct Node *t,*q,*p;
    t = (struct Node*)malloc(sizeof(struct Node));
    t->next = NULL;
    for(p = head;p;p = p -> next)
    {
        q = (struct Node*)malloc(sizeof(struct Node));
        q -> value = p -> value;
        q -> next = t -> next; // æ­¤å¤„ç›¸å½“äºåœ¨å¤´æŒ‡é’ˆåè¿›è¡Œæ’å…¥
        t -> next = q;
    }
    return t->next; //æ­¤æ—¶tæ˜¯ä¸€ä¸ªå¤´æŒ‡é’ˆ
}
```

å•é“¾è¡¨çš„**åˆ†æ®µ**é€†è½¬(å¸¦å¤´ç»“ç‚¹)ï¼Œç›´æ¥åœ¨åŸé“¾è¡¨ä¸Šé€†è½¬ï¼Œæ²¡æœ‰æ–°å»º

```c
void reserve(struct Node* L,int k)
{
    struct Node *p = (struct Node*)malloc(sizeof(struct Node));
    int cnt = 0;
    for( p = L->next;p;p = p -> next)
    {
        cnt++;  //è®¡ç®—é“¾è¡¨çš„é•¿åº¦
    }
    if(k == 1 || k > cnt)
    {
        return ;
    }
    struct Node *t,new,old,temp;
    p = L;
    for(int i = 0 ;i < cnt / k;i++)  //è®°å½•é€†è½¬çš„è½®æ•°
    {
        new = p -> next;
        old = new -> next;
        t = new;
        for(int cnt1 = 1;cnt1 < k;cnt1++)  //é€†è½¬çš„æ¬¡æ•°ç­‰äºk-1
        {
            temp = old -> next;
            old -> next = new;
            new = old;
            old = temp;
        }
        p -> next = new;
        t -> next = old;
        p = t;
    }
}
```

å•é“¾è¡¨çš„é€†è½¬ï¼ˆåŸé“¾è¡¨æ“ä½œï¼Œæ•´ä½“,å¸¦å¤´ç»“ç‚¹ï¼‰

```c
void reserve(Node*head)
{
    Node *p = (Node*)malloc(sizeof(Node));
    int cnt = 0;
    for( p = head->next;p;p = p -> next)
    {
        cnt++;  //è®¡ç®—é“¾è¡¨çš„é•¿åº¦
    }
    Node *t,*new,*old,*temp;
    p = head;
    new = p -> next;     //è¡¨ç¤ºç¬¬ä¸€ä¸ªç»“ç‚¹
    old = new -> next;   
    t = new;             //è®°å½•ç¬¬ä¸€ä¸ªæœ‰æ•ˆæ•°æ®ç»“ç‚¹çš„ä½ç½®ï¼Œè¦ä½¿å®ƒçš„nextæœ€åå˜ä¸ºNULL
    for(int cnt1 = 1;cnt1 < cnt;cnt1++)  //é€†è½¬çš„æ¬¡æ•°ç­‰äºæ€»é•¿åº¦cnt-1
    {
        temp = old -> next;       //å…ˆè®°å½•ä¸ºé€†è½¬çš„ä¸‹ä¸€ä¸ªç»“ç‚¹ï¼Œåç»­ä½¿oldå˜ä¸ºold->next
        old -> next = new;        //å¼€å§‹é€†è½¬
        new = old;                //æ›´æ›¿ï¼Œå·²ç»é€†è½¬åˆ°oldç»“ç‚¹
        old = temp;
    }
    p -> next = new;              //pæ˜¯headï¼Œheadçš„nextæ˜¯æœ€åä¸€ä¸ªç»“ç‚¹
    t -> next = old;              //oldå˜ä¸ºNULLï¼Œtæ˜¯ç¬¬ä¸€ä¸ªæœ‰æ•ˆæ•°æ®çš„ç»“ç‚¹ï¼Œé€†è½¬åæ˜¯æœ€åä¸€ä¸ªï¼Œnextå˜ä¸ºNULL
}
```















#### ==12.2.10æ€»ç»“(å•å¤´å•å‘æ— å“¨å…µ)==

```c
#include <stdio.h>
#include <stdlib.h>
typedef struct point
{
    int value;
    struct point *next;
}Node;
Node*create(int x )
{
    Node *p = (Node*)malloc(sizeof(Node));
    p->value = x;
    p->next = NULL;
    return p;
}
Node*insert_head(Node *head,Node*p)
{
    p->next = head;
    head = p;
    return head;
}
void print(Node *head)
{
    for(Node*p = head; p ; p = p->next)
    {
        printf("%d ",p->value);
    }
    printf("\n");
}
int main()
{
    Node *head,*p,*q;
    head = NULL;
    while(1)
    {
        int x;
        scanf("%d",&x);
        if(x==-1)break;
        //create a node
        p=create(x);
        // insert at end
        //if(head == NULL)  head = p;
        //else q->next = p;
		//q=p;  æ­£å‘æ’åºï¼Œæ¥åœ¨æœ«å°¾
        head = insert_head(head,p);
    }
    print(head);
}
```

å…¨å±€ç»“æ„

```c
#include <stdio.h>
#include <stdlib.h>

typedef struct point
{
    int value;
    struct point *next;
}Node;

typedef struct list
{
    Node *head;
}List;          //listä»£è¡¨æ•´ä¸ªé“¾è¡¨

Node*create(int x )
{
    Node *p = (Node*)malloc(sizeof(Node));
    p->value = x;
    p->next = NULL;
    return p;
}
void*insert_head(List *plist,Node*p)
{
    p->next = plist->head;
    plist->head = p;         //åœ¨å¦ä¸€ç»“æ„ä¸­è¿”å›æ”¹å˜åçš„head
}
int list_search(List *plist,int x)
{
    int ret = -1;
    int loc = 00;
    for(Node*p =plist->head;p;p=p->next)
    {
        if(p->value == x)
        {
            ret = loc;
            break;
        }
        loc++;
    }
    return ret;
}
int list_length(List *plist)
{
    int ret=0;
    for(Node *p = plist->head;p;p = p->next)
    {
        ret++;
    }
    return ret;
}
void insert_at(List*plist,int idx,int x)
{
    Node *n = create(x);
    Node *p = NULL;
    if(idx> 0)   //è€ƒè™‘idxä¸º0æƒ…å†µï¼Œ
    {
        for(p=plist->head;p;p=p->next)
        {
            if(idx == 1)break;
            idx--;
        }
    }
    if(p!=NULL)
    {
        n->next = p->next;
        p->next = n;
    }
    if(p == plist->head)  //è€ƒè™‘ç‰¹æ®Šæƒ…å†µï¼Œè¾¹ç•Œæ¡ä»¶ä¸‹ï¼Œnå˜ä¸ºhead
    {
        n->next = plist->head;
        plist->head = n;
    }
}
void list_delete1(List *plist,int x)
{
    for(Node*p = plist->head,*q = NULL;p;q = p, p=p->next)
    {
        if(p->value ==x)
        {
            if(q!=NULL)
            {
                q->next = p->next;
                free(p);
                break;
            }
            else
            {
                plist->head = p->next;
                break;
            }
        }
    }
}
void list_delete2(List *plist,int x)
{
    Node *p = plist->head;
    Node *q = NULL;
    while(1)
    {
        if(p->value ==x)
        {
            if(q!=NULL)
            {
                q->next = p->next;
                free(p);
                break;
            }
            else
            {
                plist->head = p->next;
                break;
            }
    	}
    	q = p;
        p = p->next;
    }
}
void list_delete3(List *plist,int x)//åˆ é™¤æ‰€æœ‰çš„x
{
    for(Node*p = plist->head,*q = NULL;p;)
    {
        if(p->value ==x)
        {
            Node *r = p->next;
            if(q!=NULL)
            {
                q->next = p->next;
            }
            else
            {
                plist->head = p->next;
            }
            free(p);
            p=r;
        }
        else
        {
            q = p;
            p = p->next;
        }
    }
}//é—®é¢˜æ ¸å¿ƒåœ¨äºï¼Œåˆ é™¤ä¹‹åqä¸å˜
void list_append(List *plist,int x) //åœ¨æœ€åçš„ç»“ç‚¹æ’å…¥
{
    Node *n = create(x);
    Node *p;
    for(*p=plist->head;p&&p->next;p=p->next);//p->nextä¸èƒ½ä¸ºNULL
    if(p==NULL)  //è€ƒè™‘pä¸ºNULLæƒ…å†µï¼Œæ­¤æ—¶pä¸è¿›å…¥for
    {
        plist->head = n;
    }
    else
    {
        p->next = n;
    }
}
void list_earse_all(List *plist)
{
    for(Node *p = plist->head;p;)
    {
        Node*q = p->next;
        free(p);
        p = q;
    }
}
void list_remove_all(Node *p) //é€’å½’ç‰ˆ
{
    if(p == NULL)
    {
        return ;
    }
    list_remove_all(p->next);
    free(p);
}
void print(List *plist)
{
    for(Node*p = plist->head; p ; p = p->next)
    {
        printf("%d ",p->value);
    }
    printf("\n");
}
int main()
{
    List list = {NULL};
    Node *head,*p,*q;
    head = NULL;
    while(1)
    {
        int x;
        scanf("%d",&x);
        if(x==-1)break;
        //create a nodeç»“ç‚¹çš„åˆ›å»º
        p=create(x);
        //ç»“ç‚¹çš„æ­£å‘æ’å…¥ï¼Œåœ¨æœ«å°¾æ¥è¿æ¥
        // insert at end
        //if(head == NULL)  head = p;
        //else q->next = p;
		//q=p;  æ­£å‘æ’åºï¼Œæ¥åœ¨æœ«å°¾
        insert_head(&list,p);
    }
    
    //é“¾è¡¨åœ¨ç‰¹å®šä½ç½®ï¼ï¼ï¼å‰ï¼ï¼ï¼æ’å…¥
    //insert_at(&list,0,9);
    
    //é“¾è¡¨çš„åˆ é™¤ï¼ˆç‰¹å®šä½ç½®ï¼‰
    //list_delete1(&list,1);
    //list_delete2(&list,3);
    
    //é“¾è¡¨çš„æ’å…¥æœ«ä½
    //list_append(&list,100);
    print(&list);
    
    //é“¾è¡¨çš„æœç´¢
    //scanf("%d",&x);
    //int loc = list_search(&list,x);
    //printf("%d\n",loc); 
    
}

```

### 12.3åŒå¤´å•å‘é“¾è¡¨

```c
#include <stdio.h>
#include <stdlib.h>

typedef struct _node 
{
	int value;
	struct _node *next;
}Node;

typedef struct {
    Node *head;
    Node *tail;
} List;

List list = {NULL
};


List list_create()
{
	List list = {NULL
	};
	return list;
}

Node* create_node(int x)
{
	Node *n = (Node*)malloc(sizeof(Node));
	n->value = x;
	n->next = NULL;
	return n;
}

void insert_head(List *plist, int x)  //æ’å…¥åœ¨headä¹‹å‰
{
	Node *p = create_node(x);
	if(plist->head != NULL)
	{
		p->next = plist->head;
		plist->head = p;
	}
	else
	{
		plist->head = plist->tail = p;
	}
}

int list_search(List *plist,int x)
{
	int ret = -1;
	int loc = 1;
	for(Node *p = plist->head;p;p = p->next)
	{
		if(p->value == x)
		{
			ret = loc;
			break;
		}
		loc++;
	}
	return ret;
}

int list_length(List *plist)
{
    int ret=0;
    for(Node *p = plist->head;p;p = p->next)
    {
        ret++;
    }
    return ret;
}


void list_append(List *plist, int x)
{
	Node *p = create_node(x);
	if(plist->tail == NULL)
	{
		plist->head = plist->tail = p;
	}
	else
	{
		plist->tail->next = p;
		plist->tail = p;
	}
}


int list_get(List *plist, int index)
{
	int cnt = 0;
	for(Node*p=plist->head;p;p=p->next)
	{
		if(index == cnt)
		{
			return p->value;
		}
		cnt++;
	}
}
void list_insert_at(List *plist,int idx,int x)  //æ’å…¥åœ¨ç¬¬idxä¸ªç»“ç‚¹ä¹‹å‰
{
	Node *n = create_node(x);
    Node *q = NULL;
    Node *p;
    for(p = plist->head;p;q=p,p=p->next)
    {
    	if(idx == 1)
    	{
    		break;
		}
		idx--;
	}
	if(plist->head)
	{
		if(q)
		{
			q->next = n;
			n->next = p;
		}
		else
		{
			n->next = plist->head;
			plist->head = n;
		}
	}
	else
	{
		if(idx > 1)
		{
			printf("not exist");
		}
		else
		{
			plist->head = plist->tail = n;
		}
	}
}
void list_delete(List *plist, int x)
{
	for(Node *p = plist->head,*q = NULL;p;)
	{
		if(p->value == x)
		{
			Node*r = p->next;
			if(q==NULL)
			{
				plist->head = p->next;
			}
			else
			{
				q->next = p->next;
			}
			free(p);
			p = r;
		}
		else
		{
			q=p;
			p=p->next;
		}
	}
}
void list_free(List *plist)
{
	for(Node *p = plist->head;p;)
	{
		Node *q = p->next;
		free(p);
		p = q;
	}
	plist->head = plist->tail = NULL;
}

void print(List*plist)
{
	for(Node*p = plist->head;p;p = p->next)
	{
		printf("%d ",p->value);
	}
}
int main()
{
	Node *p,*q;
	while(1)
	{
		int x;
		scanf("%d",&x);
		if(x==-1)
		{
			break;
		}
		else
		{
			p = create_node(x);
			if(list.head == NULL)
			{
				list.head = list.tail = p;
			}
			else
			{
				q->next = p;
			}
			q = p;
		}
	}
	list.tail = p;
	//insert_head(&list,6);
	//printf("%d\n",list_search(&list,2));
	list_insert_at(&list,1,-1);
	//list_delete(&list,1);
	//list_append(&list,3);
	//list_free(&list);
	print(&list);
}
```







### 12.4åŒå¤´åŒå‘é“¾è¡¨

```c
#include <stdio.h>
#include <stdlib.h>

typedef struct point
{
	int value;
	struct point *next;
	struct point *prev;
}Node;

typedef struct list
{
	Node *head;
	Node *tail;
}List;

List list = {NULL};     //åˆå§‹åŒ–å®šä¹‰ä¸€ä¸ªé“¾è¡¨

Node* create_node(int x)
{
	Node *n = (Node*)malloc(sizeof(Node));
	n->value = x;
	n->next = NULL;    
	n->prev = NULL;    //bie'wan
	return n;
}
void insert_head(List*plist,int x)
{
	Node*p = create_node(x);
	if(plist->head != NULL)
	{
		p->next = plist->head;
		plist->head->prev = p;
		plist->head = p;
	}
	else
	{
		plist->head = plist->tail = p;
	}
	
}

int list_search(List *plist,int x)
{
	int ret = -1;
	int loc = 1;
	for(Node *p = plist->head;p;p = p->next)
	{
		if(p->value == x)
		{
			ret = loc;
			break;
		}
		loc++;
	}
	return ret;
}

int list_length(List *plist)
{
    int ret=0;
    for(Node *p = plist->head;p;p = p->next)
    {
        ret++;
    }
    return ret;
}

void insert_at(List*plist,int idx,int x) //æ’å…¥åœ¨ç¬¬idxä¸ªç»“ç‚¹ä¹‹å‰
{
    Node *n = create_node(x);
    Node *p = NULL;
    if(plist->head)
    {
        for(p=plist->head;idx != 1;p=p->next,idx--);
        if(p == plist->head)
        {
            n->next = p;
            p->prev = n;
            plist->head = n;
        }
        n->prev = p->prev;
        p->prev->next = n;
        n->next = p;
        p->prev = n;
    }
    else
    {
    	if(idx > 1)
    	{
    		printf("not exist");
		}
		else
		{
			plist->head = plist->tail = n;
		}
    }
}
void list_delete1(List*plist,int x)
{
	Node *p;
	int flag = 0;
	for(p = plist->head;p;)
	{
		if(p->value == x)
		{
			flag = 1;
			Node *n = p->next;
			if(p->prev)
            {
                p->prev->next = p->next;
            }
            else
            {
                plist->head = p->next; 
            }
            if(p->next)
            {
                p->next->prev = p->prev;
            }
            else
            {
                plist->tail = p->prev;
            }
			free(p);
			p = n;
		}
		else
		{
			p = p -> next;
		}
	}
	if(flag == 0)
	{
		printf("not exist\n");
	}
}
void list_delete2(List *plist,int x)
{
    Node *p = plist->head;
    int flag = 0;
    while(p)
    {
        if(p->value ==x)
        {
        	flag = 1;
            Node *n = p->next;
            if(p->prev)
            {
                p->prev->next = p->next;
            }
            else
            {
                plist->head = p->next; 
            }
            if(p->next)
            {
                p->next->prev = p->prev;
            }
            else
            {
                plist->tail = p->prev;
            }
            free(p);
            p = n;
    	}
    	else
    	{
    		p = p->next;
		}
    }
    if(flag == 0)
	{
		printf("not exist\n");
	}
}
void list_append(List *plist,int x)
{
	Node *n = create_node (x);
	if(plist->tail)
	{
		plist->tail->next = n;
		n->prev = plist->tail;
		plist->tail = n;
	}
	else
	{
		plist->head = plist->tail = n;
	}
}
void list_earse_all(List *plist)
{
	for(Node*p = plist->head;p;)
	{
		Node *q = p->next;
		free(p);
		p = q;
	}
	plist->head = plist->tail = NULL;
}
void list_remove_all(Node*p)
{
	if(p == NULL)
	{
		return;
	}
	else
	{
		list_remove_all(p->next);
		free(p);
	}
    list.head = list.tail = NULL;
}
void print(List*plist)
{
	for(Node*p = plist->head;p;p = p->next)
	{
		printf("%d ",p->value);
	}
}
int main()
{
	Node *p,*q;
	while(1)
	{
		int x;
		scanf("%d",&x);
		if(x==-1)
		{
			break;
		}
		else
		{
			p = create_node(x);
			if(list.head == NULL)
			{
				list.head = list.tail = p;
			}
			else
			{
				q->next = p;
				p->prev = q;
			}
			q = p;
		}
	}
	list.tail = p;
	//insert_head(&list,6);
	//printf("%d\n",list_search(&list,2));
	//insert_at(&list,2,-1);
	//list_delete1(&list,1);
	//list_delete2(&list,2);
	//list_append(&list,3);
	//list_earse_all(&list);
	//list_remove_all(list.head);
	print(&list);
	
}

```

### 12.5 å“¨å…µå•å‘é“¾è¡¨

ä½¿headå§‹ç»ˆéç©º

```c
#include <stdio.h>
#include <stdlib.h>

typedef struct point{
	int value;
	struct point *next;
}Node;

typedef struct list{
	Node *head;
	//Node *tail;
}List;

Node *create_node(int x)
{
	Node *p = (Node*)malloc(sizeof(Node));
	p->value = x;
	p->next = NULL;
	return p;
}
List create_list()
{
	Node *p = create_node(0);
	List list;
	list.head = p;
	return list;
}

void insert_head(List *plist,int x)  //å¤´ç»“ç‚¹ä¸å«æœ‰æ•ˆæ•°æ®ï¼Œå¤´ç»“ç‚¹çš„åä¸€ä¸ªæ•°æ®å«æœ‰æ•ˆæ•°æ®ï¼Œæ•…æ’å…¥åœ¨å¤´ç»“ç‚¹ä¹‹å
{
	Node *p = create_node(x);
	p->next = plist->head->next;
	plist->head->next = p;
}

int list_search(List *plist,int x)
{
	int ret = -1;
	int loc = 0;
	for(Node *p = plist->head->next;p;p = p->next )
	{
		if(p->value == x)
		{
			ret = loc ;
			break;
		}
		loc++;
	}
	return ret;
}

int list_length(List *plist)
{
    int ret=0;
    for(Node *p = plist->head->next;p;p = p->next)
    {
        ret++;
    }
    return ret;
}

void insert_at(List *plist,int idx,int x) //æ’å…¥åœ¨ç¬¬idxä¸ªç»“ç‚¹ï¼ˆä¸åŒ…å«å“¨å…µï¼‰ä¹‹å‰
{
	Node *n = create_node(x);
	if(idx == 1)
	{
		n->next = plist->head->next;
		plist->head->next = n;
	}
	if(idx >1)
	{
		Node *p;
		for(p = plist->head->next;idx >2;p = p->next,idx--);
		n->next = p->next;
		p->next = n;
	}
}

void list_delete1(List *plist,int x)
{
	Node *p,*q,*n;
	for(p = plist->head->next,q = plist->head;p;)
	{
		if(p->value == x)
		{
			n = p->next;
			q->next = p->next;
			free(p);
			p = n;
		}
		else
		{
			q = p ;
			p = p->next;
		}
	}
}

void list_delete2(List *plist,int x)
{
	Node *p = plist->head->next;
	Node *q = plist->head;
	while(p)
	{
		if(p->value == x)
		{
			Node *n = p->next;
			q->next = p->next;
			free(p);
			p = n;
		}
		else
		{
			q = p;
			p = p->next;
		}
	}
}

void list_append(List *plist ,int x)
{
	Node *n = create_node(x);
	Node *p;
	for(p= plist->head->next;p->next;p = p->next);
	p->next = n;
	
}

void list_earse_all(List *plist)
{
	for(Node *p = plist->head->next;p;)
	{
		Node *n = p->next;
		free(p);
		p = n;
	}
	plist->head->next = NULL;
}

void print(List *plist)
{
	for(Node *p = plist->head->next;p;p = p->next)
	{
		printf("%d ",p->value);
	}
}
int main()
{
	List list = create_list();
	Node *p;
	Node *q = list.head;
	while(1)
	{
		int x;
		scanf("%d",&x);
		if(x == -1)
		{
			break;
		}
		else
		{
			p = create_node(x);
			q->next = p;
			q = p;
		}
	}
	//insert_head(&list,-1);
	//insert_at(&list,2,-1);
	//list_delete1(&list ,1);
	//list_delete2(&list ,2);
	//list_append(&list,-1);
	//list_earse_all(&list);
	print(&list);
}
```

### 12.3 ç¯å½¢é“¾è¡¨

#### 12.3.1 ç¯å½¢é“¾è¡¨çš„è¾“å‡º

```c
void print(struct Node *r)
{
    if(r == NULL)
    {
        return ;
    }
    else
    {
        struct Node *p = r->next;
        printf("%d",p->value);
        p = p -> next;
        while( p != r -> next)
        {
            printf(" %d",p->value);
            p = p ->next;
        }
    }
}
```





# åä¸‰.ç¨‹åºç»“æ„

### 13.1å…¨å±€å˜é‡ä¸é™æ€æœ¬åœ°å˜é‡

ï¼ˆä¸€ï¼‰å…¨å±€å˜é‡

1. å…¨å±€å˜é‡

- å®šä¹‰åœ¨å‡½æ•°ä¹‹å¤–çš„å˜é‡
- **å…¨å±€å˜é‡å…·æœ‰å…¨å±€çš„ç”Ÿå­˜æœŸå’Œä½œç”¨åŸŸ**
  - ä¸ä»»ä½•å‡½æ•°éƒ½æ— å…³
  - åœ¨ä»»ä½•å‡½æ•°å†…éƒ¨éƒ½å¯ä»¥ä½¿ç”¨

2. å…¨å±€å˜é‡çš„åˆå§‹åŒ–

- > **æ²¡æœ‰åˆå§‹åŒ–çš„å…¨å±€å˜é‡ä¼šå¾—åˆ°0å€¼**

- æŒ‡é’ˆå¾—åˆ°NULLå€¼

- åªèƒ½ç”¨ç¼–è¯‘æ—¶åˆ»å·²çŸ¥çš„å€¼æ¥åˆå§‹åŒ–å…¨å±€å˜é‡

  - egï¼šint a = f();âŒ
  - b = 10; int a=b;âŒ

- å®ƒçš„åˆå§‹åŒ–è¦åœ¨mainå‡½æ•°ä¹‹å‰

  - å³ï¼šint a  = 10;  
  - â€‹        int a  =  20; âŒ

- **ä¸”å…¨å±€å˜é‡åªèƒ½èµ‹ä¸€æ¬¡åˆå€¼**

3. å…¨å±€å˜é‡çš„éšè—

- > **å¦‚æœå‡½æ•°å†…éƒ¨å­˜åœ¨ä¸å…¨å±€å˜é‡åŒåçš„å˜é‡ï¼Œåˆ™å…¨å±€å˜é‡è¢«éšè—**



> **é”™é¢˜é›†ï¼š**
>
> 1. **å‡¡æ˜¯å‡½æ•°ä¸­æœªæŒ‡å®šå­˜å‚¨ç±»åˆ«çš„å±€éƒ¨å˜é‡ï¼Œå…¶éšå«çš„å­˜å‚¨ç±»å‹ä¸º( è‡ªåŠ¨auto)ã€‚**
>
> è§£é‡Šï¼š
>
> å‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ï¼Œå¦‚æœä¸**ä¸“é—¨å£°æ˜ä¸ºstaticå­˜å‚¨ç±»åˆ«**ï¼Œéƒ½æ˜¯åŠ¨æ€çš„åˆ†é…å­˜å‚¨ç©ºé—´çš„ï¼Œ**æ•°æ®å‚¨å­˜åœ¨åŠ¨æ€å­˜å‚¨åŒºä¸­ã€‚è¿™ç±»å˜é‡å«åšè‡ªåŠ¨å˜é‡**ï¼Œè‡ªåŠ¨å˜é‡å¯ä»¥ç”¨å…³é”®å­—autoä½œä¸ºå­˜å‚¨ç±»åˆ«çš„å£°æ˜ï¼Œå®é™…ä¸Šå…³é”®å­—autoæ˜¯å¯ä»¥çœç•¥çš„ï¼ˆä¸€èˆ¬éƒ½æ˜¯ä¸å†™çš„ï¼‰ï¼Œä¸å†™åˆ™è‡ªåŠ¨éšå«ä¸ºâ€œè‡ªåŠ¨å­˜å‚¨ç±»åˆ«â€ã€‚
>
> 2. Cè¯­è¨€å…¨å±€å˜é‡çš„åˆå§‹åŒ–æ˜¯åœ¨å“ªä¸ªé˜¶æ®µå®Œæˆçš„
>
>    answerï¼š**mianå‡½æ•°å¼€å§‹ä¹‹å‰**
>
>    è§£é‡Šï¼šæ— ğŸ’¢

ï¼ˆäºŒï¼‰é™æ€æœ¬åœ°å˜é‡

1. é™æ€æœ¬åœ°å˜é‡æ¦‚å†µ

- åœ¨æœ¬åœ°å˜é‡å®šä¹‰æ—¶åŠ ä¸Šstaticä¿®é¥°ç¬¦å°±æˆä¸ºé™æ€æœ¬åœ°å˜é‡

- > **å½“å‡½æ•°ç¦»å¼€çš„æ—¶å€™ï¼Œé™æ€æœ¬åœ°å˜é‡ä¼šç»§ç»­å­˜åœ¨å¹¶ä¿æŒå…¶å€¼**

- é™æ€æœ¬åœ°å˜é‡çš„åˆå§‹åŒ–åªä¼šåœ¨ç¬¬ä¸€æ¬¡è¿›å…¥è¿™ä¸ªå‡½æ•°æ—¶åšï¼Œä»¥åè¿›å…¥å‡½æ•°æ—¶ä¼šä¿æŒä¸Šæ¬¡ç¦»å¼€çš„å€¼

- **é™æ€å±€éƒ¨å˜é‡å¦‚ä½•æ²¡æœ‰èµ‹å€¼ï¼Œå…¶å­˜å‚¨å•å…ƒä¸­å°†æ˜¯0**ï¼ˆå®è´¨æ˜¯å…¨å±€å˜é‡ï¼‰

2. é™æ€æœ¬åœ°å˜é‡çš„å®è´¨ï¼š

- å®è´¨æ˜¯ï¼šç‰¹æ®Šçš„å…¨å±€å˜é‡

  - å®ƒä»¬ä½äºç›¸åŒçš„å†…å­˜åŒºåŸŸ

  - > **é™æ€æœ¬åœ°å˜é‡å…·æœ‰å…¨å±€çš„ç”Ÿå­˜æœŸï¼Œå‡½æ•°å†…çš„å±€éƒ¨ä½œç”¨åŸŸ**

  - staticåœ¨è¿™é‡Œçš„æ„æ€æ˜¯å±€éƒ¨ä½œç”¨åŸŸï¼ˆæœ¬åœ°å¯è®¿é—®ï¼‰




![image-20221230135819763](é‡éš¾ç‚¹æ‰‹å†Œ.assets/image-20221230135819763.png)

å…¨å±€å˜é‡å’Œé™æ€å˜é‡åœ¨å†…å­˜ä¸­å­˜æ”¾åœ¨åŒä¸€ä½ç½®ï¼Œå³**é™æ€åŒº/å…¨å±€åŒºï¼Œä¸æ˜¯åŠ¨æ€å­˜å‚¨åŒº**

### 13.2ç¼–è¯‘é¢„å¤„ç†å’Œå®

 #å¼€å¤´çš„æ˜¯ç¼–è¯‘é¢„å¤„ç†æŒ‡ä»¤ï¼Œ==å®ƒä¸æ˜¯cè¯­è¨€çš„æˆåˆ†==



```c
#include <stdio.h>

//const double PI = 3.14159;  ä¸¤è€…ç­‰ä»·
#define PI 3.14159

int main()
{
    printf("%f\n",2*PI*3);
}
```

#define è¡¨ç¤ºå®

- #define <name><value>

- > **å®å®šä¹‰æ—¶ä¸å­˜åœ¨ç±»å‹é—®é¢˜ï¼Œå®åæ— ç±»å‹ï¼Œå®ƒçš„å‚æ•°ä¹Ÿæ— ç±»å‹**

- > **æ³¨æ„æ²¡æœ‰ç»“å°¾çš„åˆ†å·ï¼Œå› ä¸ºä¸æ˜¯Cçš„è¯­å¥**

- åå­—å¿…é¡»æ˜¯ä¸€ä¸ªå•è¯ï¼ˆç¬¦åˆcæ ‡è¯†ç¬¦çš„è¦æ±‚ï¼Œé€šå¸¸å…¨å¤§å†™ï¼‰ï¼Œå€¼å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿

  - ä¾‹å¦‚ï¼šä»£ç ï¼Œ"%f\n"

  - ```c
    #define PRT for(int i =0 ;i<10;i++){\
         printf("%d",a[i]);\
    }
    #define format "%f\n"
    printf(format,2*PI*3.0);
    ```

  - 

- å®ä¸­å®

  - ```c
    #define PI 3.1415
    #define PI2 2*PI
    ```

  é¢„å®šä¹‰çš„å®

  ```c
  printf("%d\n",__LINE__);//è¡Œæ•°
  printf("%s\n",__FILE__);//æ–‡ä»¶å
  printf("%s\n",__DATE__);//æ—¥æœŸ
  printf("%s\n",__TIME__);//æ—¶é—´
  5
  C:\Users\86198\Desktop\åˆ é™¤\å®.c
  Dec 16 2022
  10:37:25
  ```

- åƒå‡½æ•°çš„å®(å¯ä»¥å¸¦å‚æ•°)

  - ```c
    #define cube(x) ((x)*(x)*(x))
    â€¦â€¦ï¼›
        printf("%d",cube(3));  //27
    ```

  - å¸¦å¤šä¸ªå‚æ•°

  - ```c
    #define MIN(a,b) ((a)>(b)?(b):(a))
    ```

    

  - é”™è¯¯å®šä¹‰çš„å®

  - ```c
    #define f(x) (x*100)  //ç‰¹æ®Šæƒ…å†µï¼Œfï¼ˆ5+3ï¼‰å˜ä¸ºï¼ˆ5+3*100ï¼‰
    #define f(x) (x)*100  //ç‰¹æ®Šæƒ…å†µ  10/fï¼ˆ10)å˜ä¸º 10/10*100
    ```

    > **å¸¦å‚æ•°çš„å®çš„åŸåˆ™ï¼šä¸€åˆ‡éƒ½è¦æ‹¬å·ï¼Œæ•´ä¸ªå€¼ä¹Ÿè¦æ‹¬å·ï¼Œå‚æ•°å‡ºç°çš„æ¯ä¸€ä¸ªåœ°æ–¹éƒ½è¦æ‹¬å·**

==#è¿ç®—ç¬¦==è¡¨ç¤ºä½¿å˜é‡ï¼ˆnï¼‰ä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤º

```c
#define print(n) printf(#n "=%d\n",(n))


int max = 10;
print(max);    //ç­‰ä»·äºprintf("max""=%d\n",(max));
```

==##è¿ç®—ç¬¦==è¡¨ç¤ºè¿æ¥

```c
#define mycase(item,id)\
case id:\
    item##_##id = id;\
break;

switch(max){
        mycase(x,0);
}
ç­‰ä»·äº
    switch(max){
        case 0:x_0 = 0;break;
    }
```



### 13.3å¤§ç¨‹åºç»“æ„

- ä¸€ä¸ª.cæ–‡ä»¶æ˜¯ä¸€ä¸ªç¼–è¯‘å•å…ƒ
- ç¼–è¯‘å™¨æ¯æ¬¡åªå¤„ç†ä¸€ä¸ªç¼–è¯‘å•å…ƒ



```c
main.c
#include<stdio.h>
#include"max.h"

int main()
{
    int a,b;
    scanf("%d %d",&a,&b);
    printf("%d",max(a,b));
}
max.c
#include"max.h"
    
int max(int a,int b)
{
    if(a>b)return a;
    else return b;
}

max.h
int max(int a,int b);
```



#### 13.3.1 å¤´æ–‡ä»¶

- æŠŠå‡½æ•°åŸå‹æ”¾åˆ°ä¸€ä¸ªå¤´æ–‡ä»¶ï¼ˆ.hç»“å°¾ï¼‰ä¸­ï¼Œåœ¨éœ€è¦è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æºä»£ç æ–‡ä»¶ï¼ˆ.cç»“å°¾ï¼‰ï¼Œä¸­çš„#includeè¿™ä¸ªå¤´æ–‡ä»¶ï¼Œå°±èƒ½è®©ç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™==*çŸ¥é“å‡½æ•°çš„åŸå‹*==

- > åœ¨â›”**ä½¿ç”¨å’Œâ›”å®šä¹‰å‡½æ•°**çš„åœ°æ–¹éƒ½è¦æœ‰#includeè¿™ä¸ªå¤´æ–‡ä»¶
  >
  > ä¸€èˆ¬çš„åšæ³•æ˜¯å¯¹**ä»»ä½•.céƒ½æœ‰å¯¹åº”çš„åŒåçš„.hï¼ˆmainé™¤å¤–ï¼‰**,æŠŠæ‰€æœ‰**å¯¹å¤–å…¬å¼€çš„å‡½æ•°çš„åŸå‹å’Œå…¨éƒ¨å˜é‡çš„å£°æ˜**æ”¾è¿›å»

- è‡³äºä¸å¯¹å¤–å…¬å¼€çš„å‡½æ•°

  - åœ¨**å‡½æ•°**å‰é¢åŠ ä¸Š==static==å°±ä½¿ä»–æˆä¸ºåªåœ¨æ‰€åœ¨çš„ç¼–è¯‘å•å…ƒæ‰èƒ½ä½¿ç”¨çš„å‡½æ•°
  - åœ¨**å…¨å±€å˜é‡**å‰é¢åŠ ä¸Š==static==å°±ä½¿ä»–æˆä¸ºåªèƒ½åœ¨æ‰€åœ¨çš„ç¼–è¯‘å•å…ƒä¸­è¢«ä½¿ç”¨çš„å…¨å±€å˜é‡

##### 1.#include

- #includeæ˜¯ä¸€ä¸ªç¼–è¯‘é¢„å¤„ç†æŒ‡ä»¤å’Œå®ä¸€æ ·ï¼Œåœ¨ç¼–è¯‘ä¹‹å‰å°±å¤„ç†äº†

- **å®ƒæ˜¯å°†å¤´æ–‡ä»¶çš„å…¨éƒ¨æ–‡æœ¬å†…å®¹åŸå°ä¸åŠ¨åœ°æ’å…¥åˆ°å®ƒæ‰€åœ¨çš„åœ°æ–¹**

- #includeæœ‰ä¸¤ç§å½¢å¼æŒ‡å‡ºè¦æ’å…¥çš„æ–‡ä»¶
  - â€œ â€è¦æ±‚ç¼–è¯‘å™¨é¦–å…ˆåœ¨å½“å‰ç›®å½•ï¼ˆ.cæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼‰å¯»æ‰¾è¿™ä¸ªå¤´æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå†åˆ°ç¼–è¯‘å™¨æŒ‡å®šçš„ç›®å½•å¯»æ‰¾
  - <>è®©ç¼–è¯‘å™¨åªåœ¨æŒ‡å®šçš„ç›®å½•å¯»æ‰¾

##### 2.**#includeçš„è¯¯åŒº**

-  #includeä¸æ˜¯ç”¨æ¥å¼•å…¥åº“çš„ï¼ˆä½œç”¨å°±æ˜¯æ–‡æœ¬çš„æ›¿æ¢ï¼‰
-  stdio.hé‡Œåªæœ‰printfçš„åŸå‹ï¼Œprintfçš„ä»£ç åœ¨å¦å¤–çš„åœ°æ–¹ï¼Œä»è€Œ==#include<stdio.h>çš„ä½œç”¨å°±æ˜¯è®©ç¼–è¯‘å™¨çŸ¥é“printfå‡½æ•°çš„åŸå‹ï¼Œä¿è¯ä½ **è°ƒç”¨æ—¶ç»™å‡ºçš„å‚æ•°ç±»å‹**æ­£ç¡®==

#### 13.3.2å£°æ˜

1. ###### ==å˜é‡==çš„å®šä¹‰å’Œå£°æ˜çš„è¾¨æ

- int i;              æ˜¯å˜é‡çš„å®šä¹‰
- ==extern int i==;  æ˜¯å˜é‡çš„å£°æ˜

```c
main.c
#include<stdio.h>
#include"max.h"

int main()
{
    int a,b;
    scanf("%d %d",&a,&b);           //5 6
    printf("%d",max(a,b) + all);    //9
}
max.c
#include"max.h"
int all = 3;     //å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡
int max(int a,int b)
{
    if(a > b)return a;
    else return b;
}

max.h
int max(int a,int b);
extern int all;  //å£°æ˜ä¸€ä¸ªå˜é‡
```





2. å£°æ˜å’Œå®šä¹‰

- å£°æ˜æ˜¯ä¸äº§ç”Ÿä»£ç çš„ä¸œè¥¿ï¼Œ**åªæœ‰å£°æ˜æ‰èƒ½æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ï¼ˆå¦åˆ™ä¼šé€ æˆä¸€ä¸ªé¡¹ç›®ä¸­å¤šä¸ªç¼–è¯‘å•å…ƒé‡Œæœ‰é‡åçš„å®ä½“redefinitionï¼‰**
  - å‡½æ•°åŸå‹   int max(int a,int b);
  - å˜é‡å£°æ˜   extern int i;
  - ç»“æ„å£°æ˜   struct
  - å®å£°æ˜       #define Â·Â·Â·Â·Â·
  - ç±»å‹å£°æ˜   typedef Â·Â·Â·Â·Â·
- å®šä¹‰æ˜¯äº§ç”Ÿä»£ç çš„ä¸œè¥¿

```c
main.c
#include<stdio.h>
#include"max.h"

int main()
{
    int a,b;
    scanf("%d %d",&a,&b);           //5 6
    printf("%d",max(a,b) + all);    //9
}
max.c
#include"max.h"
int all = 3;     //å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡
int max(int a,int b)
{
    if(a > b)return a;
    else return b;
}

max.h
int max(int a,int b);
extern int all;  //å£°æ˜ä¸€ä¸ªå˜é‡
```

é”™è¯¯âŒå±•ç¤ºï¼ˆä¸èƒ½åŒ…å«bodyï¼‰

```c
main.c
#include<stdio.h>
#include"max.h"   //ç”¨ä¸€ä¸‹æ–‡æœ¬å†…å®¹ä»£æ›¿
int max(int a,int b);
extern int all;  //å£°æ˜ä¸€ä¸ªå˜é‡
struct Node {
    int value;
    char *name;
}
#include"min.h"   //ç”¨ä¸€ä¸‹æ–‡æœ¬å†…å®¹ä»£æ›¿
#include "max.h"
int max(int a,int b);
extern int all;  //å£°æ˜ä¸€ä¸ªå˜é‡
struct Node {
    int value;
    char *name;
}                //å¦‚æ­¤é€ æˆstruct Nodeçš„redefinitionâŒ
int main()
{
    int a,b;
    scanf("%d %d",&a,&b);           //5 6
    printf("%d",max(a,b) + all);    //9
}

max.c
#include"max.h"
int all = 3;     //å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡
int max(int a,int b)
{
    if(a > b)return a;
    else return b;
}

max.h
int max(int a,int b);
extern int all;  //å£°æ˜ä¸€ä¸ªå˜é‡
struct Node {
    int value;
    char *name;
}

min.h
#include "max.h"
```

é”™è¯¯æ›´æ”¹âˆš

```c
main.c
#include<stdio.h>
#include"max.h"

int main()
{
    int a,b;
    scanf("%d %d",&a,&b);           //5 6
    printf("%d",max(a,b) + all);    //9
}
max.c
#include"max.h"
int all = 3;     //å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡
int max(int a,int b)
{
    if(a > b)return a;
    else return b;
}

max.h
    
#ifndef _MAX_H
#define _MAX_H
int max(int a,int b);
extern int all;  //å£°æ˜ä¸€ä¸ªå˜é‡
struct Node {
    int value;
    char *name;
}
#endif
```

3. æ ‡å‡†å¤´æ–‡ä»¶ç»“æ„

> **#ifndef _MAX_H**
>
> **#define _MAX_H**
>
> **â€¦â€¦**
>
> **#endif**
>
> **#ifndefè¡¨ç¤ºå¦‚æœ_MAX_Hæ²¡æœ‰è¢«å®šä¹‰ï¼Œåˆ™æ‰§è¡Œdefineä¸€ä¸‹è¯­å¥**
>
> 
>
> **å¦‚æœå·²ç»è¢«å®šä¹‰ï¼Œåˆ™ç›´æ¥è·³åˆ°#endif**
>
> â›”â™¥**è¿ç”¨æ¡ä»¶ç¼–è¯‘å’Œå®ï¼Œä¿è¯è¿™ä¸ªå¤´æ–‡ä»¶åœ¨ä¸€ä¸ªç¼–è¯‘å•å…ƒä¸­åªèƒ½è¢«#includeä¸€æ¬¡ï¼Œä»è€Œé˜²æ­¢é‡å¤å®šä¹‰é€ æˆé”™è¯¯**
>
> **#pragma once ä¹Ÿèƒ½èµ·åˆ°ç›¸åŒçš„ä½œç”¨**

```c
#include <stdio.h>
#define debug

int main()
{
    printf("hello");
#ifdef debug        
    printf("byebye");
#else
    printf("world");
#endif
}
```

> ğŸ’•â›”#if**def** debug  Â·Â·Â·Â·Â·  è¡¨ç¤ºå¦‚æœdebugè¢«**å®šä¹‰**äº†ï¼Œå°±æ‰§è¡Œåé¢è¯­å¥**
>
> **#else  Â·Â·Â·Â·Â·Â·             è¡¨ç¤ºå¦‚æœæ²¡æœ‰è¢«å®šä¹‰ï¼Œåˆ™æ‰§è¡Œelseåé¢è¯­å¥**
>
> **#endif**

![img](C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/4982f69711dac4c20aa2ad8c5d79af24-16712023134055.gif)

> **è¿™è¾¹ç‰¹åˆ«æ³¨æ„ä¸€ä¸‹ï¼Œç”±äºæ˜¯defineä¸å¦ï¼Œæ‰€ä»¥ç”¨#ifdef**
>
> **æ™®é€šç‰ˆçš„è¯ï¼Œå°±æ˜¯#if 1 æˆ–è€…#if 0     #endif**

å®æˆ˜ä¸¾ä¾‹ï¼š

å¤´æ–‡ä»¶æ”¾å£°æ˜

![image-20221222184730243](C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/image-20221222184730243.png)

.cæ–‡ä»¶æ”¾å®šä¹‰

![image-20221222184803040](C:/Users/86198/Desktop/ä¸€.åŸºç¡€çŸ¥è¯†.assets/image-20221222184803040.png)

![image-20221225205225823](é‡éš¾ç‚¹æ‰‹å†Œ.assets/image-20221225205225823.png)

è¿™ä¸ªç¼–è¯‘å•å…ƒä¸­ï¼Œè¦ç”¨ k è¿™ä¸ªå˜é‡ï¼Œ**ä½†è¯­æ³•åªæ˜¯å£°æ˜**ã€‚è¡¨ç¤º k å˜é‡ä¸åœ¨è¿™ä¸ªç¼–è¯‘å•å…ƒä¸­ï¼Œè€Œæ˜¯åœ¨å…¶ä»–ç¼–è¯‘å•å…ƒé‡Œã€‚ä½†å®é™…ä¸Šï¼Œä½ **åˆæ²¡æœ‰å…¶ä»–ç¼–è¯‘å•å…ƒ**ã€‚æ‰€ä»¥ï¼Œç¼–è¯‘çš„æ—¶å€™æ²¡é—®é¢˜ï¼Œé“¾æ¥çš„æ—¶å€™æ²¡äººè®¤é¢† kï¼Œå°±é”™äº†





### 13.4 æ–‡ä»¶æ“ä½œ

- FILE *fopen(const char *restrict path,const char * restrict mode);

  - ```c
    int main()
    {
        FILE *fp = fopen("in(æ–‡ä»¶å)","r");
        if(fp)
        {
            int i;
            fscanf(fp,"&d",&i);
            printf("%d\n",i);
        }
        else
        {
            printf("can't open file\n");
        }
    }
    
    //æ ‡å‡†å†™æ³•
    FILE* fp = fopen("file","r");
    if(fp)
    {
        fscanf(fp , ...);
        fclose(fp);
    }
    else
    {
        ....
    }
    ```

  - ![image-20221230150443229](é‡éš¾ç‚¹æ‰‹å†Œ.assets/image-20221230150443229.png)

- int fclose(FILE *stream);

- fscanf(FILE*,...);

- fprintf(FILE*,...);

#### äºŒè¿›åˆ¶è¯»å†™

- size_t fread(void *restrict ptr(**æŒ‡é’ˆ**),size_t sizeï¼ˆ**æ¯ä¸ªå•å…ƒçš„å¤§å°**ï¼‰, size_t nitemsï¼ˆ**å•å…ƒæ•°**ï¼‰,FILE *restrict stream);
- size_t fwrite(const void *restrict ptr,size_t size,size_t nitems,FILE *restrict stream);
- FILEæŒ‡é’ˆæ˜¯æœ€åä¸€ä¸ªå‚æ•°
- è¿”å›çš„æ˜¯æˆåŠŸè¯»å†™çš„é¡¹ç›®æ•°

```c
char buf[80];
fwrite (buf,sizeof(char),len,fp);
```

> **äºŒè¿›åˆ¶æ–‡ä»¶çš„è¯»å†™ä¸€èˆ¬æ˜¯é€šè¿‡å¯¹ä¸€ä¸ªç»“æ„å˜é‡çš„æ“ä½œè¿›è¡Œçš„ï¼›**
>
> **äºæ˜¯nitemå°±æ˜¯ç”¨æ¥è¯´æ˜è¿™æ¬¡è¯»å†™å‡ ä¸ªç»“æ„å˜é‡**



- long ftell(å‘ŠçŸ¥æ–‡ä»¶çš„ä½ç½®)(FILE *stream);
- int fseek(FILE *stream,long offset,int whence(æœç´¢æ–¹å¼));
  - SEEK_SET:ä»å¤´å¼€å§‹
  - SEEK_CUR:ä»å½“å‰ä½ç½®å¼€å§‹
  - SEEK_END:ä»å°¾å¼€å§‹



























# åå››.å¹¶è¡Œè®¡ç®—

### 14.1 pthread

- çº¿ç¨‹æ“çºµå‡½æ•°

  - pthread_create() : åˆ›å»ºä¸€ä¸ªçº¿ç¨‹

  - pthread_exit()   : ç»ˆæ­¢å½“å‰çš„çº¿ç¨‹

  - pthread_join():    é˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´è‡³å¦ä¸€ä¸ªçº¿ç¨‹è¿è¡Œç»“æŸ

    

- ç¼–å†™çº¿ç¨‹å‡½æ•°
  - void* add(void *args) //ç”¨äºåœ¨åˆ›å»ºçš„çº¿ç¨‹ä¸­è¿è¡Œï¼Œ==è¿”å›å€¼å’Œå‚æ•°ä¸ºè§„å®šç±»å‹void *==

- åˆ›å»ºçº¿ç¨‹
  - pthread_t t1; //å£°æ˜çº¿ç¨‹å¥æŸ„
  - pthread_create(&t1,NULL,add,(void*)&ST);
  - //å‚æ•°1ä¸ºçº¿ç¨‹å¥æŸ„ï¼Œå‚æ•°2ä¸ºçº¿ç¨‹å‡½æ•°è¿”å›å€¼ï¼Œå‚æ•°3ä¸ºçº¿ç¨‹å‡½æ•°æŒ‡é’ˆï¼Œå‚æ•°4ä¸ºçº¿ç¨‹å‡½æ•°å‚æ•°
- ç­‰å¾…çº¿ç¨‹ç»“æŸ
  - pthread_join(t1,NULL);//è°ƒç”¨è¯¥å‡½æ•°åï¼Œå½“å‰çº¿ç¨‹ä¼šé˜»å¡ï¼Œç›®æ ‡çº¿ç¨‹ç»“æŸåå½“å‰çº¿ç¨‹ç»§ç»­æ‰§è¡Œ

å®æˆ˜ï¼š

```c
#include <stdio.h>
#include <pthread.h>
void *run(void *args)
{
    for(int i = 0;i < 10 ; i++)
    {
        printf("hello\n");
    }
}
int main()
{
    pthread_t t1;
    pthread_create(&t1,NULL,run,NULL);
    for(int i = 0;i < 10;i++)
    {
        printf("bye\n");
    }
    pthread_join(t1,NULL)
}
```

